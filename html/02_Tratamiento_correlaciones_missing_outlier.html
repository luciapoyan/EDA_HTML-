<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>d78c0c3a22564d73873361bcb2d19c9d</title>
  <style>
    html {
      line-height: 1.5;
      font-family: Georgia, serif;
      font-size: 20px;
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 1em;
      }
      h1 {
        font-size: 1.8em;
      }
    }
    @media print {
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, 'Lucida Console', Consolas, monospace;
      font-size: 85%;
      margin: 0;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC ul {
      padding-left: 1.3em;
    }
    #TOC > ul {
      padding-left: 0;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<section id="valores-missing-outlier-y-correlaciones"
class="cell markdown" id="DK-geSO0BddW">
<h1><strong>Valores missing, outlier y correlaciones</strong></h1>
<p>En este notebook se realiza el estudio y preprocesamiento de las
variables numéricas y categoricas. Se realizarán los siguientes
pasos:</p>
<ol>
<li>Cambio de tipos de variables</li>
<li>Separación en train y test</li>
<li>Análisis de cada variable con gráficos descriptivos</li>
<li>Para variables numericas: correlaciones de pearnson, estudio de
outliers y estudio de valores missing</li>
<li>Para variables categoricas: relleno de valores missing, estudio de
correlaciones con vCramer</li>
</ol>
</section>
<section id="importo-librerías" class="cell markdown" id="k5JSA34pCGlI">
<h2><strong>Importo librerías</strong></h2>
</section>
<div class="cell code" data-execution_count="146" id="8gxamCxA-ANh">
<div class="sourceCode" id="cb1"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.model_selection <span class="im">import</span> train_test_split</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> plotly.express <span class="im">as</span> px</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> matplotlib <span class="im">import</span> pyplot <span class="im">as</span> plt</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> scipy.stats <span class="im">import</span> chi2_contingency</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> scipy.stats <span class="im">as</span> ss</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> warnings</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>pd.set_option(<span class="st">&#39;display.max_columns&#39;</span>, <span class="dv">500</span>)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>pd.set_option(<span class="st">&#39;display.max_rows&#39;</span>, <span class="dv">5000</span>)</span></code></pre></div>
</div>
<section id="funciones" class="cell markdown" id="H-_5Rw9wCzfV">
<h2><strong>Funciones</strong></h2>
<p>Voy guardando las funciones que están automatizadas y pienso que me
van a servir en otros proyectos en un funciones_auxiliares.py y lo
importo:</p>
</section>
<section id="improtarlas-aqui-no-en-cada-linea-de-codigo"
class="cell markdown" id="1QXSj63AC7Kv">
<h1><strong>IMPROTARLAS AQUI NO EN CADA LINEA DE CODIGO</strong></h1>
</section>
<div class="cell code" data-execution_count="147" id="tSkaaSjQDA01">
<div class="sourceCode" id="cb2"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> plot_continuous_variable(df, col_name, target<span class="op">=</span><span class="va">None</span>):</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">&quot;&quot;&quot;</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="co">    Graficar variables continuas, con y sin la variable objetivo.</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="co">    Parámetros:</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="co">    - df: pd.DataFrame</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="co">        DataFrame que contiene los datos.</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="co">    - col_name: str</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="co">        Nombre de la columna a visualizar.</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="co">    - target: str, opcional</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a><span class="co">        Variable objetivo para facetas (por defecto es None).</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a><span class="co">    &quot;&quot;&quot;</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>    count_null <span class="op">=</span> df[col_name].isnull().<span class="bu">sum</span>()  <span class="co"># Contar los valores nulos en la columna.</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>    fig, axes <span class="op">=</span> plt.subplots(<span class="dv">1</span>, <span class="dv">2</span> <span class="cf">if</span> target <span class="cf">else</span> <span class="dv">1</span>, figsize<span class="op">=</span>(<span class="dv">14</span>, <span class="dv">5</span>), dpi<span class="op">=</span><span class="dv">90</span>)  <span class="co"># Crear subgráficos</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Graficar un histograma con KDE (Kernel Density Estimation) para la variable continua</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>    sns.histplot(df[col_name].dropna(), kde<span class="op">=</span><span class="va">True</span>, ax<span class="op">=</span>axes[<span class="dv">0</span>] <span class="cf">if</span> target <span class="cf">else</span> axes, color<span class="op">=</span><span class="st">&quot;skyblue&quot;</span>)</span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>    axes[<span class="dv">0</span> <span class="cf">if</span> target <span class="cf">else</span> <span class="dv">0</span>].set_title(<span class="ss">f&quot;</span><span class="sc">{</span>col_name<span class="sc">}</span><span class="ss"> (nulos: </span><span class="sc">{</span>count_null<span class="sc">}</span><span class="ss">)&quot;</span>)</span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>    axes[<span class="dv">0</span> <span class="cf">if</span> target <span class="cf">else</span> <span class="dv">0</span>].set_xlabel(col_name)</span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>    axes[<span class="dv">0</span> <span class="cf">if</span> target <span class="cf">else</span> <span class="dv">0</span>].set_ylabel(<span class="st">&quot;Count&quot;</span>)</span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> target:  <span class="co"># Si se pasa una variable objetivo, graficamos un boxplot</span></span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a>        sns.boxplot(x<span class="op">=</span>target, y<span class="op">=</span>col_name, data<span class="op">=</span>df, ax<span class="op">=</span>axes[<span class="dv">1</span>], palette<span class="op">=</span><span class="st">&quot;Set2&quot;</span>)</span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a>        axes[<span class="dv">1</span>].set_title(<span class="ss">f&quot;</span><span class="sc">{</span>col_name<span class="sc">}</span><span class="ss"> por </span><span class="sc">{</span>target<span class="sc">}</span><span class="ss">&quot;</span>)</span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a>        axes[<span class="dv">1</span>].set_ylabel(col_name)</span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a>        axes[<span class="dv">1</span>].set_xlabel(target)</span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a>    plt.tight_layout()  <span class="co"># Ajustar el espaciado</span></span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a>    plt.show()  <span class="co"># Mostrar la gráfica</span></span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-33"><a href="#cb2-33" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> plot_categorical_variable(df, col_name, target<span class="op">=</span><span class="va">None</span>):</span>
<span id="cb2-34"><a href="#cb2-34" aria-hidden="true" tabindex="-1"></a>    <span class="co">&quot;&quot;&quot;</span></span>
<span id="cb2-35"><a href="#cb2-35" aria-hidden="true" tabindex="-1"></a><span class="co">    Graficar variables categóricas, con y sin la variable objetivo.</span></span>
<span id="cb2-36"><a href="#cb2-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-37"><a href="#cb2-37" aria-hidden="true" tabindex="-1"></a><span class="co">    Parámetros:</span></span>
<span id="cb2-38"><a href="#cb2-38" aria-hidden="true" tabindex="-1"></a><span class="co">    - df: pd.DataFrame</span></span>
<span id="cb2-39"><a href="#cb2-39" aria-hidden="true" tabindex="-1"></a><span class="co">        DataFrame que contiene los datos.</span></span>
<span id="cb2-40"><a href="#cb2-40" aria-hidden="true" tabindex="-1"></a><span class="co">    - col_name: str</span></span>
<span id="cb2-41"><a href="#cb2-41" aria-hidden="true" tabindex="-1"></a><span class="co">        Nombre de la columna a visualizar.</span></span>
<span id="cb2-42"><a href="#cb2-42" aria-hidden="true" tabindex="-1"></a><span class="co">    - target: str, opcional</span></span>
<span id="cb2-43"><a href="#cb2-43" aria-hidden="true" tabindex="-1"></a><span class="co">        Variable objetivo para facetas (por defecto es None).</span></span>
<span id="cb2-44"><a href="#cb2-44" aria-hidden="true" tabindex="-1"></a><span class="co">    &quot;&quot;&quot;</span></span>
<span id="cb2-45"><a href="#cb2-45" aria-hidden="true" tabindex="-1"></a>    count_null <span class="op">=</span> df[col_name].isnull().<span class="bu">sum</span>()  <span class="co"># Contar los valores nulos en la columna.</span></span>
<span id="cb2-46"><a href="#cb2-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-47"><a href="#cb2-47" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Manejar demasiadas categorías (limitar a las 10 más frecuentes)</span></span>
<span id="cb2-48"><a href="#cb2-48" aria-hidden="true" tabindex="-1"></a>    unique_vals <span class="op">=</span> df[col_name].astype(<span class="bu">str</span>).value_counts()  <span class="co"># Contar los valores únicos</span></span>
<span id="cb2-49"><a href="#cb2-49" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="bu">len</span>(unique_vals) <span class="op">&gt;</span> <span class="dv">10</span>:  <span class="co"># Si hay más de 10 categorías, limitamos a las 10 principales</span></span>
<span id="cb2-50"><a href="#cb2-50" aria-hidden="true" tabindex="-1"></a>        top_vals <span class="op">=</span> unique_vals.head(<span class="dv">10</span>).index</span>
<span id="cb2-51"><a href="#cb2-51" aria-hidden="true" tabindex="-1"></a>        df <span class="op">=</span> df[df[col_name].astype(<span class="bu">str</span>).isin(top_vals)]</span>
<span id="cb2-52"><a href="#cb2-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-53"><a href="#cb2-53" aria-hidden="true" tabindex="-1"></a>    fig, axes <span class="op">=</span> plt.subplots(<span class="dv">1</span>, <span class="dv">2</span> <span class="cf">if</span> target <span class="cf">else</span> <span class="dv">1</span>, figsize<span class="op">=</span>(<span class="dv">14</span>, <span class="dv">5</span>), dpi<span class="op">=</span><span class="dv">90</span>)  <span class="co"># Crear subgráficos</span></span>
<span id="cb2-54"><a href="#cb2-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-55"><a href="#cb2-55" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Graficar un countplot para la variable categórica</span></span>
<span id="cb2-56"><a href="#cb2-56" aria-hidden="true" tabindex="-1"></a>    sns.countplot(</span>
<span id="cb2-57"><a href="#cb2-57" aria-hidden="true" tabindex="-1"></a>        x<span class="op">=</span>df[col_name].astype(<span class="bu">str</span>),</span>
<span id="cb2-58"><a href="#cb2-58" aria-hidden="true" tabindex="-1"></a>        order<span class="op">=</span><span class="bu">sorted</span>(df[col_name].astype(<span class="bu">str</span>).unique()),</span>
<span id="cb2-59"><a href="#cb2-59" aria-hidden="true" tabindex="-1"></a>        ax<span class="op">=</span>axes[<span class="dv">0</span>] <span class="cf">if</span> target <span class="cf">else</span> axes,</span>
<span id="cb2-60"><a href="#cb2-60" aria-hidden="true" tabindex="-1"></a>        color<span class="op">=</span><span class="st">&quot;skyblue&quot;</span></span>
<span id="cb2-61"><a href="#cb2-61" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb2-62"><a href="#cb2-62" aria-hidden="true" tabindex="-1"></a>    axes[<span class="dv">0</span> <span class="cf">if</span> target <span class="cf">else</span> <span class="dv">0</span>].set_title(<span class="ss">f&quot;</span><span class="sc">{</span>col_name<span class="sc">}</span><span class="ss"> (nulos: </span><span class="sc">{</span>count_null<span class="sc">}</span><span class="ss">)&quot;</span>)</span>
<span id="cb2-63"><a href="#cb2-63" aria-hidden="true" tabindex="-1"></a>    axes[<span class="dv">0</span> <span class="cf">if</span> target <span class="cf">else</span> <span class="dv">0</span>].set_xlabel(col_name)</span>
<span id="cb2-64"><a href="#cb2-64" aria-hidden="true" tabindex="-1"></a>    axes[<span class="dv">0</span> <span class="cf">if</span> target <span class="cf">else</span> <span class="dv">0</span>].set_ylabel(<span class="st">&quot;Count&quot;</span>)</span>
<span id="cb2-65"><a href="#cb2-65" aria-hidden="true" tabindex="-1"></a>    axes[<span class="dv">0</span> <span class="cf">if</span> target <span class="cf">else</span> <span class="dv">0</span>].tick_params(axis<span class="op">=</span><span class="st">&#39;x&#39;</span>, rotation<span class="op">=</span><span class="dv">45</span>)  <span class="co"># Rotar etiquetas del eje x</span></span>
<span id="cb2-66"><a href="#cb2-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-67"><a href="#cb2-67" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> target:  <span class="co"># Si se pasa una variable objetivo, graficamos las proporciones de cada clase</span></span>
<span id="cb2-68"><a href="#cb2-68" aria-hidden="true" tabindex="-1"></a>        proportions <span class="op">=</span> (</span>
<span id="cb2-69"><a href="#cb2-69" aria-hidden="true" tabindex="-1"></a>            df.groupby(col_name)[target]  <span class="co"># Agrupar por la variable categórica</span></span>
<span id="cb2-70"><a href="#cb2-70" aria-hidden="true" tabindex="-1"></a>            .value_counts(normalize<span class="op">=</span><span class="va">True</span>)  <span class="co"># Calcular las proporciones de la variable objetivo</span></span>
<span id="cb2-71"><a href="#cb2-71" aria-hidden="true" tabindex="-1"></a>            .rename(<span class="st">&quot;proportion&quot;</span>)</span>
<span id="cb2-72"><a href="#cb2-72" aria-hidden="true" tabindex="-1"></a>            .reset_index()</span>
<span id="cb2-73"><a href="#cb2-73" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb2-74"><a href="#cb2-74" aria-hidden="true" tabindex="-1"></a>        sns.barplot(</span>
<span id="cb2-75"><a href="#cb2-75" aria-hidden="true" tabindex="-1"></a>            x<span class="op">=</span>col_name,</span>
<span id="cb2-76"><a href="#cb2-76" aria-hidden="true" tabindex="-1"></a>            y<span class="op">=</span><span class="st">&quot;proportion&quot;</span>,</span>
<span id="cb2-77"><a href="#cb2-77" aria-hidden="true" tabindex="-1"></a>            hue<span class="op">=</span>target,</span>
<span id="cb2-78"><a href="#cb2-78" aria-hidden="true" tabindex="-1"></a>            data<span class="op">=</span>proportions,</span>
<span id="cb2-79"><a href="#cb2-79" aria-hidden="true" tabindex="-1"></a>            ax<span class="op">=</span>axes[<span class="dv">1</span>],</span>
<span id="cb2-80"><a href="#cb2-80" aria-hidden="true" tabindex="-1"></a>            palette<span class="op">=</span><span class="st">&quot;Set2&quot;</span></span>
<span id="cb2-81"><a href="#cb2-81" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb2-82"><a href="#cb2-82" aria-hidden="true" tabindex="-1"></a>        axes[<span class="dv">1</span>].set_title(<span class="ss">f&quot;Proporciones de </span><span class="sc">{</span>target<span class="sc">}</span><span class="ss"> por </span><span class="sc">{</span>col_name<span class="sc">}</span><span class="ss">&quot;</span>)</span>
<span id="cb2-83"><a href="#cb2-83" aria-hidden="true" tabindex="-1"></a>        axes[<span class="dv">1</span>].set_xlabel(col_name)</span>
<span id="cb2-84"><a href="#cb2-84" aria-hidden="true" tabindex="-1"></a>        axes[<span class="dv">1</span>].set_ylabel(<span class="st">&quot;Proporción&quot;</span>)</span>
<span id="cb2-85"><a href="#cb2-85" aria-hidden="true" tabindex="-1"></a>        axes[<span class="dv">1</span>].tick_params(axis<span class="op">=</span><span class="st">&#39;x&#39;</span>, rotation<span class="op">=</span><span class="dv">45</span>)</span>
<span id="cb2-86"><a href="#cb2-86" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-87"><a href="#cb2-87" aria-hidden="true" tabindex="-1"></a>    plt.tight_layout()  <span class="co"># Ajustar el espaciado</span></span>
<span id="cb2-88"><a href="#cb2-88" aria-hidden="true" tabindex="-1"></a>    plt.show()  <span class="co"># Mostrar la gráfica</span></span>
<span id="cb2-89"><a href="#cb2-89" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-90"><a href="#cb2-90" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-91"><a href="#cb2-91" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> plot_feature_variable(df, col_name, isContinuous, target<span class="op">=</span><span class="va">None</span>):</span>
<span id="cb2-92"><a href="#cb2-92" aria-hidden="true" tabindex="-1"></a>    <span class="co">&quot;&quot;&quot;</span></span>
<span id="cb2-93"><a href="#cb2-93" aria-hidden="true" tabindex="-1"></a><span class="co">    Decidir qué función de graficado llamar según el tipo de variable (continua o categórica).</span></span>
<span id="cb2-94"><a href="#cb2-94" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-95"><a href="#cb2-95" aria-hidden="true" tabindex="-1"></a><span class="co">    Parámetros:</span></span>
<span id="cb2-96"><a href="#cb2-96" aria-hidden="true" tabindex="-1"></a><span class="co">    - df: pd.DataFrame</span></span>
<span id="cb2-97"><a href="#cb2-97" aria-hidden="true" tabindex="-1"></a><span class="co">        DataFrame que contiene los datos.</span></span>
<span id="cb2-98"><a href="#cb2-98" aria-hidden="true" tabindex="-1"></a><span class="co">    - col_name: str</span></span>
<span id="cb2-99"><a href="#cb2-99" aria-hidden="true" tabindex="-1"></a><span class="co">        Nombre de la columna a visualizar.</span></span>
<span id="cb2-100"><a href="#cb2-100" aria-hidden="true" tabindex="-1"></a><span class="co">    - isContinuous: bool</span></span>
<span id="cb2-101"><a href="#cb2-101" aria-hidden="true" tabindex="-1"></a><span class="co">        Si la variable es continua o categórica.</span></span>
<span id="cb2-102"><a href="#cb2-102" aria-hidden="true" tabindex="-1"></a><span class="co">    - target: str, opcional</span></span>
<span id="cb2-103"><a href="#cb2-103" aria-hidden="true" tabindex="-1"></a><span class="co">        Variable objetivo para facetas (por defecto es None).</span></span>
<span id="cb2-104"><a href="#cb2-104" aria-hidden="true" tabindex="-1"></a><span class="co">    &quot;&quot;&quot;</span></span>
<span id="cb2-105"><a href="#cb2-105" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> isContinuous:</span>
<span id="cb2-106"><a href="#cb2-106" aria-hidden="true" tabindex="-1"></a>        plot_continuous_variable(df, col_name, target<span class="op">=</span>target)  <span class="co"># Si es continua, llamar a la función para variables continuas</span></span>
<span id="cb2-107"><a href="#cb2-107" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb2-108"><a href="#cb2-108" aria-hidden="true" tabindex="-1"></a>        plot_categorical_variable(df, col_name, target<span class="op">=</span>target)  <span class="co"># Si es categórica, llamar a la función para variables categóricas</span></span>
<span id="cb2-109"><a href="#cb2-109" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-110"><a href="#cb2-110" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-111"><a href="#cb2-111" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> analyze_outliers(credit_procesado, list_var_num, target, multiplier<span class="op">=</span><span class="dv">3</span>):</span>
<span id="cb2-112"><a href="#cb2-112" aria-hidden="true" tabindex="-1"></a>    <span class="co">&quot;&quot;&quot;</span></span>
<span id="cb2-113"><a href="#cb2-113" aria-hidden="true" tabindex="-1"></a><span class="co">    Analiza los outliers para las variables numéricas y devuelve los resultados.</span></span>
<span id="cb2-114"><a href="#cb2-114" aria-hidden="true" tabindex="-1"></a><span class="co">    - df: DataFrame</span></span>
<span id="cb2-115"><a href="#cb2-115" aria-hidden="true" tabindex="-1"></a><span class="co">    - list_var_num: lista de las variables numéricas a analizar</span></span>
<span id="cb2-116"><a href="#cb2-116" aria-hidden="true" tabindex="-1"></a><span class="co">    - target: variable objetivo para análisis</span></span>
<span id="cb2-117"><a href="#cb2-117" aria-hidden="true" tabindex="-1"></a><span class="co">    - multiplier: factor para detectar los outliers (por defecto 3 veces el IQR)</span></span>
<span id="cb2-118"><a href="#cb2-118" aria-hidden="true" tabindex="-1"></a><span class="co">    &quot;&quot;&quot;</span></span>
<span id="cb2-119"><a href="#cb2-119" aria-hidden="true" tabindex="-1"></a>    outliers <span class="op">=</span> []</span>
<span id="cb2-120"><a href="#cb2-120" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> col <span class="kw">in</span> list_var_num:</span>
<span id="cb2-121"><a href="#cb2-121" aria-hidden="true" tabindex="-1"></a>        q1 <span class="op">=</span> credit_procesado[col].quantile(<span class="fl">0.25</span>)</span>
<span id="cb2-122"><a href="#cb2-122" aria-hidden="true" tabindex="-1"></a>        q3 <span class="op">=</span> credit_procesado[col].quantile(<span class="fl">0.75</span>)</span>
<span id="cb2-123"><a href="#cb2-123" aria-hidden="true" tabindex="-1"></a>        iqr <span class="op">=</span> q3 <span class="op">-</span> q1</span>
<span id="cb2-124"><a href="#cb2-124" aria-hidden="true" tabindex="-1"></a>        lower_bound <span class="op">=</span> q1 <span class="op">-</span> multiplier <span class="op">*</span> iqr</span>
<span id="cb2-125"><a href="#cb2-125" aria-hidden="true" tabindex="-1"></a>        upper_bound <span class="op">=</span> q3 <span class="op">+</span> multiplier <span class="op">*</span> iqr</span>
<span id="cb2-126"><a href="#cb2-126" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-127"><a href="#cb2-127" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Identifica los outliers en la columna</span></span>
<span id="cb2-128"><a href="#cb2-128" aria-hidden="true" tabindex="-1"></a>        outliers_in_col <span class="op">=</span> credit_procesado[(credit_procesado[col] <span class="op">&lt;</span> lower_bound) <span class="op">|</span> (credit_procesado[col] <span class="op">&gt;</span> upper_bound)]</span>
<span id="cb2-129"><a href="#cb2-129" aria-hidden="true" tabindex="-1"></a>        outliers.append((col, <span class="bu">len</span>(outliers_in_col)))</span>
<span id="cb2-130"><a href="#cb2-130" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-131"><a href="#cb2-131" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Crear un DataFrame con los resultados de los outliers</span></span>
<span id="cb2-132"><a href="#cb2-132" aria-hidden="true" tabindex="-1"></a>    outlier_df <span class="op">=</span> pd.DataFrame(outliers, columns<span class="op">=</span>[<span class="st">&quot;Variable&quot;</span>, <span class="st">&quot;Outlier Count&quot;</span>])</span>
<span id="cb2-133"><a href="#cb2-133" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> outlier_df</span>
<span id="cb2-134"><a href="#cb2-134" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-135"><a href="#cb2-135" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> treat_outliers(credit_procesado, list_var_num, multiplier<span class="op">=</span><span class="dv">3</span>, method<span class="op">=</span><span class="st">&quot;median&quot;</span>):</span>
<span id="cb2-136"><a href="#cb2-136" aria-hidden="true" tabindex="-1"></a>    <span class="co">&quot;&quot;&quot;</span></span>
<span id="cb2-137"><a href="#cb2-137" aria-hidden="true" tabindex="-1"></a><span class="co">    Trata los outliers en las variables numéricas reemplazándolos por la media o la mediana.</span></span>
<span id="cb2-138"><a href="#cb2-138" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-139"><a href="#cb2-139" aria-hidden="true" tabindex="-1"></a><span class="co">    - df: DataFrame</span></span>
<span id="cb2-140"><a href="#cb2-140" aria-hidden="true" tabindex="-1"></a><span class="co">    - list_var_num: lista de las variables numéricas a tratar</span></span>
<span id="cb2-141"><a href="#cb2-141" aria-hidden="true" tabindex="-1"></a><span class="co">    - multiplier: factor para detectar los outliers (por defecto 3 veces el IQR)</span></span>
<span id="cb2-142"><a href="#cb2-142" aria-hidden="true" tabindex="-1"></a><span class="co">    - method: &#39;median&#39; o &#39;mean&#39; para indicar qué método utilizar para reemplazar los outliers</span></span>
<span id="cb2-143"><a href="#cb2-143" aria-hidden="true" tabindex="-1"></a><span class="co">    &quot;&quot;&quot;</span></span>
<span id="cb2-144"><a href="#cb2-144" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> col <span class="kw">in</span> list_var_num:</span>
<span id="cb2-145"><a href="#cb2-145" aria-hidden="true" tabindex="-1"></a>        q1 <span class="op">=</span> credit_procesado[col].quantile(<span class="fl">0.25</span>)</span>
<span id="cb2-146"><a href="#cb2-146" aria-hidden="true" tabindex="-1"></a>        q3 <span class="op">=</span> credit_procesado[col].quantile(<span class="fl">0.75</span>)</span>
<span id="cb2-147"><a href="#cb2-147" aria-hidden="true" tabindex="-1"></a>        iqr <span class="op">=</span> q3 <span class="op">-</span> q1</span>
<span id="cb2-148"><a href="#cb2-148" aria-hidden="true" tabindex="-1"></a>        lower_bound <span class="op">=</span> q1 <span class="op">-</span> multiplier <span class="op">*</span> iqr</span>
<span id="cb2-149"><a href="#cb2-149" aria-hidden="true" tabindex="-1"></a>        upper_bound <span class="op">=</span> q3 <span class="op">+</span> multiplier <span class="op">*</span> iqr</span>
<span id="cb2-150"><a href="#cb2-150" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-151"><a href="#cb2-151" aria-hidden="true" tabindex="-1"></a>        outliers_in_col <span class="op">=</span> (credit_procesado[col] <span class="op">&lt;</span> lower_bound) <span class="op">|</span> (credit_procesado[col] <span class="op">&gt;</span> upper_bound)</span>
<span id="cb2-152"><a href="#cb2-152" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-153"><a href="#cb2-153" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> method <span class="op">==</span> <span class="st">&quot;median&quot;</span>:</span>
<span id="cb2-154"><a href="#cb2-154" aria-hidden="true" tabindex="-1"></a>            median_value <span class="op">=</span> credit_procesado[col].median()</span>
<span id="cb2-155"><a href="#cb2-155" aria-hidden="true" tabindex="-1"></a>            credit_procesado[col] <span class="op">=</span> credit_procesado[col].where(<span class="op">~</span>outliers_in_col, median_value)</span>
<span id="cb2-156"><a href="#cb2-156" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-157"><a href="#cb2-157" aria-hidden="true" tabindex="-1"></a>        <span class="cf">elif</span> method <span class="op">==</span> <span class="st">&quot;mean&quot;</span>:</span>
<span id="cb2-158"><a href="#cb2-158" aria-hidden="true" tabindex="-1"></a>            mean_value <span class="op">=</span> credit_procesado[col].mean()</span>
<span id="cb2-159"><a href="#cb2-159" aria-hidden="true" tabindex="-1"></a>            credit_procesado[col] <span class="op">=</span> credit_procesado[col].where(<span class="op">~</span>outliers_in_col, mean_value)</span>
<span id="cb2-160"><a href="#cb2-160" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-161"><a href="#cb2-161" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> credit_procesado</span>
<span id="cb2-162"><a href="#cb2-162" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-163"><a href="#cb2-163" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-164"><a href="#cb2-164" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> analizar_nulos(df):</span>
<span id="cb2-165"><a href="#cb2-165" aria-hidden="true" tabindex="-1"></a>    <span class="co">&quot;&quot;&quot;</span></span>
<span id="cb2-166"><a href="#cb2-166" aria-hidden="true" tabindex="-1"></a><span class="co">    Analiza los valores nulos en un DataFrame, tanto por columnas como por filas.</span></span>
<span id="cb2-167"><a href="#cb2-167" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-168"><a href="#cb2-168" aria-hidden="true" tabindex="-1"></a><span class="co">    - df: DataFrame a analizar.</span></span>
<span id="cb2-169"><a href="#cb2-169" aria-hidden="true" tabindex="-1"></a><span class="co">    &quot;&quot;&quot;</span></span>
<span id="cb2-170"><a href="#cb2-170" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-171"><a href="#cb2-171" aria-hidden="true" tabindex="-1"></a>    nulos_columnas <span class="op">=</span> df.isnull().<span class="bu">sum</span>()</span>
<span id="cb2-172"><a href="#cb2-172" aria-hidden="true" tabindex="-1"></a>    porcentaje_nulos_columnas <span class="op">=</span> (nulos_columnas <span class="op">/</span> <span class="bu">len</span>(df) <span class="op">*</span> <span class="dv">100</span>).<span class="bu">round</span>(<span class="dv">2</span>)</span>
<span id="cb2-173"><a href="#cb2-173" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-174"><a href="#cb2-174" aria-hidden="true" tabindex="-1"></a>    pd_null_columnas <span class="op">=</span> pd.DataFrame({</span>
<span id="cb2-175"><a href="#cb2-175" aria-hidden="true" tabindex="-1"></a>        <span class="st">&#39;nulos_columnas&#39;</span>: nulos_columnas,</span>
<span id="cb2-176"><a href="#cb2-176" aria-hidden="true" tabindex="-1"></a>        <span class="st">&#39;porcentaje (%)&#39;</span>: porcentaje_nulos_columnas</span>
<span id="cb2-177"><a href="#cb2-177" aria-hidden="true" tabindex="-1"></a>    }).sort_values(by<span class="op">=</span><span class="st">&#39;nulos_columnas&#39;</span>, ascending<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb2-178"><a href="#cb2-178" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-179"><a href="#cb2-179" aria-hidden="true" tabindex="-1"></a>    nulos_filas <span class="op">=</span> df.isnull().<span class="bu">sum</span>(axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb2-180"><a href="#cb2-180" aria-hidden="true" tabindex="-1"></a>    porcentaje_nulos_filas <span class="op">=</span> (nulos_filas <span class="op">/</span> df.shape[<span class="dv">1</span>] <span class="op">*</span> <span class="dv">100</span>).<span class="bu">round</span>(<span class="dv">2</span>)</span>
<span id="cb2-181"><a href="#cb2-181" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-182"><a href="#cb2-182" aria-hidden="true" tabindex="-1"></a>    pd_null_filas <span class="op">=</span> pd.DataFrame({</span>
<span id="cb2-183"><a href="#cb2-183" aria-hidden="true" tabindex="-1"></a>        <span class="st">&#39;nulos_filas&#39;</span>: nulos_filas,</span>
<span id="cb2-184"><a href="#cb2-184" aria-hidden="true" tabindex="-1"></a>        <span class="st">&#39;porcentaje (%)&#39;</span>: porcentaje_nulos_filas</span>
<span id="cb2-185"><a href="#cb2-185" aria-hidden="true" tabindex="-1"></a>    }).sort_values(by<span class="op">=</span><span class="st">&#39;nulos_filas&#39;</span>, ascending<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb2-186"><a href="#cb2-186" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-187"><a href="#cb2-187" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> pd_null_columnas, pd_null_filas</span>
<span id="cb2-188"><a href="#cb2-188" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-189"><a href="#cb2-189" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-190"><a href="#cb2-190" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-191"><a href="#cb2-191" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-192"><a href="#cb2-192" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> calcular_nulos_por_objetivo(df, target_col, tipo_variable):</span>
<span id="cb2-193"><a href="#cb2-193" aria-hidden="true" tabindex="-1"></a>    <span class="co">&quot;&quot;&quot;</span></span>
<span id="cb2-194"><a href="#cb2-194" aria-hidden="true" tabindex="-1"></a><span class="co">    Calcula el porcentaje de valores nulos por columna, agrupado por la variable objetivo (TARGET).</span></span>
<span id="cb2-195"><a href="#cb2-195" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-196"><a href="#cb2-196" aria-hidden="true" tabindex="-1"></a><span class="co">    - df: DataFrame que contiene los datos.</span></span>
<span id="cb2-197"><a href="#cb2-197" aria-hidden="true" tabindex="-1"></a><span class="co">    - target_col: Nombre de la columna objetivo (TARGET).</span></span>
<span id="cb2-198"><a href="#cb2-198" aria-hidden="true" tabindex="-1"></a><span class="co">    - tipo_variable: &#39;categoricas&#39; o &#39;continuas&#39; para seleccionar el tipo de variables a analizar.</span></span>
<span id="cb2-199"><a href="#cb2-199" aria-hidden="true" tabindex="-1"></a><span class="co">    &quot;&quot;&quot;</span></span>
<span id="cb2-200"><a href="#cb2-200" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-201"><a href="#cb2-201" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> tipo_variable <span class="op">==</span> <span class="st">&#39;categoricas&#39;</span>:</span>
<span id="cb2-202"><a href="#cb2-202" aria-hidden="true" tabindex="-1"></a>        columnas <span class="op">=</span> list_var_cat</span>
<span id="cb2-203"><a href="#cb2-203" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> tipo_variable <span class="op">==</span> <span class="st">&#39;continuas&#39;</span>:</span>
<span id="cb2-204"><a href="#cb2-204" aria-hidden="true" tabindex="-1"></a>        columnas <span class="op">=</span> list_var_continuous</span>
<span id="cb2-205"><a href="#cb2-205" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb2-206"><a href="#cb2-206" aria-hidden="true" tabindex="-1"></a>        <span class="cf">raise</span> <span class="pp">ValueError</span>(<span class="st">&quot;El tipo_variable debe ser &#39;categoricas&#39; o &#39;continuas&#39;.&quot;</span>)</span>
<span id="cb2-207"><a href="#cb2-207" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-208"><a href="#cb2-208" aria-hidden="true" tabindex="-1"></a>    columnas <span class="op">=</span> [col <span class="cf">for</span> col <span class="kw">in</span> columnas <span class="cf">if</span> col <span class="kw">in</span> df.columns]</span>
<span id="cb2-209"><a href="#cb2-209" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-210"><a href="#cb2-210" aria-hidden="true" tabindex="-1"></a>    nulos_por_objetivo <span class="op">=</span> pd.DataFrame(index<span class="op">=</span>columnas)</span>
<span id="cb2-211"><a href="#cb2-211" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-212"><a href="#cb2-212" aria-hidden="true" tabindex="-1"></a>    grouped <span class="op">=</span> df.groupby(target_col)</span>
<span id="cb2-213"><a href="#cb2-213" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> target_value, group <span class="kw">in</span> grouped:</span>
<span id="cb2-214"><a href="#cb2-214" aria-hidden="true" tabindex="-1"></a>        nulos_por_objetivo[<span class="ss">f&quot;Target_</span><span class="sc">{</span><span class="bu">int</span>(target_value)<span class="sc">}</span><span class="ss">&quot;</span>] <span class="op">=</span> (</span>
<span id="cb2-215"><a href="#cb2-215" aria-hidden="true" tabindex="-1"></a>            group[columnas].isnull().<span class="bu">sum</span>() <span class="op">/</span> <span class="bu">len</span>(group) <span class="op">*</span> <span class="dv">100</span></span>
<span id="cb2-216"><a href="#cb2-216" aria-hidden="true" tabindex="-1"></a>        ).<span class="bu">round</span>(<span class="dv">2</span>)</span>
<span id="cb2-217"><a href="#cb2-217" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-218"><a href="#cb2-218" aria-hidden="true" tabindex="-1"></a>    nulos_por_objetivo[<span class="st">&quot;Total_Porcentaje (%)&quot;</span>] <span class="op">=</span> nulos_por_objetivo.mean(axis<span class="op">=</span><span class="dv">1</span>).<span class="bu">round</span>(<span class="dv">2</span>)</span>
<span id="cb2-219"><a href="#cb2-219" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-220"><a href="#cb2-220" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="st">&quot;Target_1&quot;</span> <span class="kw">in</span> nulos_por_objetivo.columns <span class="kw">and</span> <span class="st">&quot;Target_0&quot;</span> <span class="kw">in</span> nulos_por_objetivo.columns:</span>
<span id="cb2-221"><a href="#cb2-221" aria-hidden="true" tabindex="-1"></a>        nulos_por_objetivo[<span class="st">&quot;Diferencia_0_1 (%)&quot;</span>] <span class="op">=</span> (</span>
<span id="cb2-222"><a href="#cb2-222" aria-hidden="true" tabindex="-1"></a>            nulos_por_objetivo[<span class="st">&quot;Target_1&quot;</span>] <span class="op">-</span> nulos_por_objetivo[<span class="st">&quot;Target_0&quot;</span>]</span>
<span id="cb2-223"><a href="#cb2-223" aria-hidden="true" tabindex="-1"></a>        ).<span class="bu">round</span>(<span class="dv">2</span>)</span>
<span id="cb2-224"><a href="#cb2-224" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-225"><a href="#cb2-225" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> nulos_por_objetivo.sort_values(by<span class="op">=</span><span class="st">&quot;Total_Porcentaje (%)&quot;</span>, ascending<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb2-226"><a href="#cb2-226" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-227"><a href="#cb2-227" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-228"><a href="#cb2-228" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-229"><a href="#cb2-229" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_corr_matrix(dataset, metodo<span class="op">=</span><span class="st">&#39;pearson&#39;</span>, size_figure<span class="op">=</span>[<span class="dv">10</span>, <span class="dv">8</span>]):</span>
<span id="cb2-230"><a href="#cb2-230" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-231"><a href="#cb2-231" aria-hidden="true" tabindex="-1"></a>    <span class="co">&quot;&quot;&quot;</span></span>
<span id="cb2-232"><a href="#cb2-232" aria-hidden="true" tabindex="-1"></a><span class="co">    Crea una matriz de correlación para las variables numéricas del dataset y la visualiza.</span></span>
<span id="cb2-233"><a href="#cb2-233" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-234"><a href="#cb2-234" aria-hidden="true" tabindex="-1"></a><span class="co">    - dataset: DataFrame que contiene los datos.</span></span>
<span id="cb2-235"><a href="#cb2-235" aria-hidden="true" tabindex="-1"></a><span class="co">    - metodo: El método de correlación, por defecto &#39;pearson&#39;.</span></span>
<span id="cb2-236"><a href="#cb2-236" aria-hidden="true" tabindex="-1"></a><span class="co">    - size_figure: Tamaño de la figura, por defecto [10, 8].</span></span>
<span id="cb2-237"><a href="#cb2-237" aria-hidden="true" tabindex="-1"></a><span class="co">    &quot;&quot;&quot;</span></span>
<span id="cb2-238"><a href="#cb2-238" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-239"><a href="#cb2-239" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> dataset <span class="kw">is</span> <span class="va">None</span>:</span>
<span id="cb2-240"><a href="#cb2-240" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">&#39;Hace falta pasar argumentos a la función&#39;</span>)</span>
<span id="cb2-241"><a href="#cb2-241" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">None</span></span>
<span id="cb2-242"><a href="#cb2-242" aria-hidden="true" tabindex="-1"></a>    corr <span class="op">=</span> dataset.corr(method<span class="op">=</span>metodo)</span>
<span id="cb2-243"><a href="#cb2-243" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(corr.shape[<span class="dv">0</span>]):</span>
<span id="cb2-244"><a href="#cb2-244" aria-hidden="true" tabindex="-1"></a>        corr.iloc[i, i] <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb2-245"><a href="#cb2-245" aria-hidden="true" tabindex="-1"></a>    plt.figure(figsize<span class="op">=</span>size_figure)</span>
<span id="cb2-246"><a href="#cb2-246" aria-hidden="true" tabindex="-1"></a>    sns.heatmap(corr, center<span class="op">=</span><span class="dv">0</span>, square<span class="op">=</span><span class="va">True</span>, linewidths<span class="op">=</span><span class="fl">.5</span>, cmap<span class="op">=</span><span class="st">&#39;viridis&#39;</span>)</span>
<span id="cb2-247"><a href="#cb2-247" aria-hidden="true" tabindex="-1"></a>    plt.show()</span>
<span id="cb2-248"><a href="#cb2-248" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> corr</span>
<span id="cb2-249"><a href="#cb2-249" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-250"><a href="#cb2-250" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> cramers_v(confusion_matrix):</span>
<span id="cb2-251"><a href="#cb2-251" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-252"><a href="#cb2-252" aria-hidden="true" tabindex="-1"></a>    <span class="co">&quot;&quot;&quot;</span></span>
<span id="cb2-253"><a href="#cb2-253" aria-hidden="true" tabindex="-1"></a><span class="co">    Calcula el valor de Cramér&#39;s V, una medida de la asociación entre dos variables categóricas.</span></span>
<span id="cb2-254"><a href="#cb2-254" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-255"><a href="#cb2-255" aria-hidden="true" tabindex="-1"></a><span class="co">    - confusion_matrix: matriz de contingencia (tabla de frecuencias) entre dos variables categóricas.</span></span>
<span id="cb2-256"><a href="#cb2-256" aria-hidden="true" tabindex="-1"></a><span class="co">   &quot;&quot;&quot;</span></span>
<span id="cb2-257"><a href="#cb2-257" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-258"><a href="#cb2-258" aria-hidden="true" tabindex="-1"></a>    chi2 <span class="op">=</span> ss.chi2_contingency(confusion_matrix)[<span class="dv">0</span>]</span>
<span id="cb2-259"><a href="#cb2-259" aria-hidden="true" tabindex="-1"></a>    n <span class="op">=</span> confusion_matrix.<span class="bu">sum</span>()</span>
<span id="cb2-260"><a href="#cb2-260" aria-hidden="true" tabindex="-1"></a>    phi2 <span class="op">=</span> chi2 <span class="op">/</span> n</span>
<span id="cb2-261"><a href="#cb2-261" aria-hidden="true" tabindex="-1"></a>    r, k <span class="op">=</span> confusion_matrix.shape</span>
<span id="cb2-262"><a href="#cb2-262" aria-hidden="true" tabindex="-1"></a>    phi2corr <span class="op">=</span> <span class="bu">max</span>(<span class="dv">0</span>, phi2 <span class="op">-</span> ((k<span class="op">-</span><span class="dv">1</span>)<span class="op">*</span>(r<span class="op">-</span><span class="dv">1</span>))<span class="op">/</span>(n<span class="op">-</span><span class="dv">1</span>))</span>
<span id="cb2-263"><a href="#cb2-263" aria-hidden="true" tabindex="-1"></a>    rcorr <span class="op">=</span> r <span class="op">-</span> ((r<span class="op">-</span><span class="dv">1</span>)<span class="op">**</span><span class="dv">2</span>)<span class="op">/</span>(n<span class="op">-</span><span class="dv">1</span>)</span>
<span id="cb2-264"><a href="#cb2-264" aria-hidden="true" tabindex="-1"></a>    kcorr <span class="op">=</span> k <span class="op">-</span> ((k<span class="op">-</span><span class="dv">1</span>)<span class="op">**</span><span class="dv">2</span>)<span class="op">/</span>(n<span class="op">-</span><span class="dv">1</span>)</span>
<span id="cb2-265"><a href="#cb2-265" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> np.sqrt(phi2corr <span class="op">/</span> <span class="bu">min</span>((kcorr<span class="op">-</span><span class="dv">1</span>), (rcorr<span class="op">-</span><span class="dv">1</span>)))</span>
<span id="cb2-266"><a href="#cb2-266" aria-hidden="true" tabindex="-1"></a></span></code></pre></div>
</div>
<section id="lectura-de-datos-del-preprocesado-incial"
class="cell markdown" id="PSi0NwDvDA9W">
<h2><strong>Lectura de datos del preprocesado incial</strong></h2>
<p>Lectura de los datos y cambio de tipos de variables</p>
</section>
<div class="cell code" data-execution_count="148"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:582}"
id="Xrg2mGY1DJ29" data-outputId="d42064b9-3f63-46d9-b80c-6f7c1b093f52">
<div class="sourceCode" id="cb3"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>credit_procesado <span class="op">=</span> pd.read_csv(<span class="vs">r&#39;..\data\Processed\archivo_procesado.csv&#39;</span>)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>credit_procesado</span></code></pre></div>
<div class="output execute_result" data-execution_count="148">

  <div id="df-6e2aaadf-72d3-4623-9d7a-d7168b483cc6" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>sk_id_curr</th>
      <th>target</th>
      <th>name_contract_type</th>
      <th>code_gender</th>
      <th>flag_own_car</th>
      <th>flag_own_realty</th>
      <th>cnt_children</th>
      <th>amt_income_total</th>
      <th>amt_credit</th>
      <th>amt_annuity</th>
      <th>amt_goods_price</th>
      <th>name_type_suite</th>
      <th>name_income_type</th>
      <th>name_education_type</th>
      <th>name_family_status</th>
      <th>name_housing_type</th>
      <th>region_population_relative</th>
      <th>days_birth</th>
      <th>days_employed</th>
      <th>days_registration</th>
      <th>days_id_publish</th>
      <th>own_car_age</th>
      <th>flag_mobil</th>
      <th>flag_emp_phone</th>
      <th>flag_work_phone</th>
      <th>flag_cont_mobile</th>
      <th>flag_phone</th>
      <th>flag_email</th>
      <th>occupation_type</th>
      <th>cnt_fam_members</th>
      <th>region_rating_client</th>
      <th>region_rating_client_w_city</th>
      <th>weekday_appr_process_start</th>
      <th>hour_appr_process_start</th>
      <th>reg_region_not_live_region</th>
      <th>reg_region_not_work_region</th>
      <th>live_region_not_work_region</th>
      <th>reg_city_not_live_city</th>
      <th>reg_city_not_work_city</th>
      <th>live_city_not_work_city</th>
      <th>organization_type</th>
      <th>ext_source_1</th>
      <th>ext_source_2</th>
      <th>ext_source_3</th>
      <th>apartments_avg</th>
      <th>basementarea_avg</th>
      <th>years_beginexpluatation_avg</th>
      <th>years_build_avg</th>
      <th>commonarea_avg</th>
      <th>elevators_avg</th>
      <th>entrances_avg</th>
      <th>floorsmax_avg</th>
      <th>floorsmin_avg</th>
      <th>landarea_avg</th>
      <th>livingapartments_avg</th>
      <th>livingarea_avg</th>
      <th>nonlivingapartments_avg</th>
      <th>nonlivingarea_avg</th>
      <th>apartments_mode</th>
      <th>basementarea_mode</th>
      <th>years_beginexpluatation_mode</th>
      <th>years_build_mode</th>
      <th>commonarea_mode</th>
      <th>elevators_mode</th>
      <th>entrances_mode</th>
      <th>floorsmax_mode</th>
      <th>floorsmin_mode</th>
      <th>landarea_mode</th>
      <th>livingapartments_mode</th>
      <th>livingarea_mode</th>
      <th>nonlivingapartments_mode</th>
      <th>nonlivingarea_mode</th>
      <th>apartments_medi</th>
      <th>basementarea_medi</th>
      <th>years_beginexpluatation_medi</th>
      <th>years_build_medi</th>
      <th>commonarea_medi</th>
      <th>elevators_medi</th>
      <th>entrances_medi</th>
      <th>floorsmax_medi</th>
      <th>floorsmin_medi</th>
      <th>landarea_medi</th>
      <th>livingapartments_medi</th>
      <th>livingarea_medi</th>
      <th>nonlivingapartments_medi</th>
      <th>nonlivingarea_medi</th>
      <th>fondkapremont_mode</th>
      <th>housetype_mode</th>
      <th>totalarea_mode</th>
      <th>wallsmaterial_mode</th>
      <th>emergencystate_mode</th>
      <th>obs_30_cnt_social_circle</th>
      <th>def_30_cnt_social_circle</th>
      <th>obs_60_cnt_social_circle</th>
      <th>def_60_cnt_social_circle</th>
      <th>days_last_phone_change</th>
      <th>flag_document_2</th>
      <th>flag_document_3</th>
      <th>flag_document_4</th>
      <th>flag_document_5</th>
      <th>flag_document_6</th>
      <th>flag_document_7</th>
      <th>flag_document_8</th>
      <th>flag_document_9</th>
      <th>flag_document_10</th>
      <th>flag_document_11</th>
      <th>flag_document_12</th>
      <th>flag_document_13</th>
      <th>flag_document_14</th>
      <th>flag_document_15</th>
      <th>flag_document_16</th>
      <th>flag_document_17</th>
      <th>flag_document_18</th>
      <th>flag_document_19</th>
      <th>flag_document_20</th>
      <th>flag_document_21</th>
      <th>amt_req_credit_bureau_hour</th>
      <th>amt_req_credit_bureau_day</th>
      <th>amt_req_credit_bureau_week</th>
      <th>amt_req_credit_bureau_mon</th>
      <th>amt_req_credit_bureau_qrt</th>
      <th>amt_req_credit_bureau_year</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>100002.0</td>
      <td>1</td>
      <td>Cash loans</td>
      <td>M</td>
      <td>N</td>
      <td>Y</td>
      <td>0.0</td>
      <td>202500.0</td>
      <td>406597.5</td>
      <td>24700.5</td>
      <td>351000.0</td>
      <td>Unaccompanied</td>
      <td>Working</td>
      <td>Secondary / secondary special</td>
      <td>Single / not married</td>
      <td>House / apartment</td>
      <td>0.018801</td>
      <td>-9461.0</td>
      <td>-637.0</td>
      <td>-3648.0</td>
      <td>-2120.0</td>
      <td>NaN</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>Laborers</td>
      <td>1.0</td>
      <td>2</td>
      <td>2</td>
      <td>3</td>
      <td>10.0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>Business Entity Type 3</td>
      <td>0.083037</td>
      <td>0.262949</td>
      <td>0.139376</td>
      <td>0.0247</td>
      <td>0.0369</td>
      <td>0.9722</td>
      <td>0.6192</td>
      <td>0.0143</td>
      <td>0.00</td>
      <td>0.0690</td>
      <td>0.0833</td>
      <td>0.1250</td>
      <td>0.0369</td>
      <td>0.0202</td>
      <td>0.0190</td>
      <td>0.0000</td>
      <td>0.0000</td>
      <td>0.0252</td>
      <td>0.0383</td>
      <td>0.9722</td>
      <td>0.6341</td>
      <td>0.0144</td>
      <td>0.0000</td>
      <td>0.0690</td>
      <td>0.0833</td>
      <td>0.1250</td>
      <td>0.0377</td>
      <td>0.0220</td>
      <td>0.0198</td>
      <td>0.0000</td>
      <td>0.0000</td>
      <td>0.0250</td>
      <td>0.0369</td>
      <td>0.9722</td>
      <td>0.6243</td>
      <td>0.0144</td>
      <td>0.00</td>
      <td>0.0690</td>
      <td>0.0833</td>
      <td>0.1250</td>
      <td>0.0375</td>
      <td>0.0205</td>
      <td>0.0193</td>
      <td>0.0000</td>
      <td>0.0000</td>
      <td>reg oper account</td>
      <td>block of flats</td>
      <td>0.0149</td>
      <td>Stone, brick</td>
      <td>No</td>
      <td>2.0</td>
      <td>2.0</td>
      <td>2.0</td>
      <td>2.0</td>
      <td>-1134.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>100003.0</td>
      <td>0</td>
      <td>Cash loans</td>
      <td>F</td>
      <td>N</td>
      <td>N</td>
      <td>0.0</td>
      <td>270000.0</td>
      <td>1293502.5</td>
      <td>35698.5</td>
      <td>1129500.0</td>
      <td>Family</td>
      <td>State servant</td>
      <td>Higher education</td>
      <td>Married</td>
      <td>House / apartment</td>
      <td>0.003541</td>
      <td>-16765.0</td>
      <td>-1188.0</td>
      <td>-1186.0</td>
      <td>-291.0</td>
      <td>NaN</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>Core staff</td>
      <td>2.0</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>11.0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>School</td>
      <td>0.311267</td>
      <td>0.622246</td>
      <td>NaN</td>
      <td>0.0959</td>
      <td>0.0529</td>
      <td>0.9851</td>
      <td>0.7960</td>
      <td>0.0605</td>
      <td>0.08</td>
      <td>0.0345</td>
      <td>0.2917</td>
      <td>0.3333</td>
      <td>0.0130</td>
      <td>0.0773</td>
      <td>0.0549</td>
      <td>0.0039</td>
      <td>0.0098</td>
      <td>0.0924</td>
      <td>0.0538</td>
      <td>0.9851</td>
      <td>0.8040</td>
      <td>0.0497</td>
      <td>0.0806</td>
      <td>0.0345</td>
      <td>0.2917</td>
      <td>0.3333</td>
      <td>0.0128</td>
      <td>0.0790</td>
      <td>0.0554</td>
      <td>0.0000</td>
      <td>0.0000</td>
      <td>0.0968</td>
      <td>0.0529</td>
      <td>0.9851</td>
      <td>0.7987</td>
      <td>0.0608</td>
      <td>0.08</td>
      <td>0.0345</td>
      <td>0.2917</td>
      <td>0.3333</td>
      <td>0.0132</td>
      <td>0.0787</td>
      <td>0.0558</td>
      <td>0.0039</td>
      <td>0.0100</td>
      <td>reg oper account</td>
      <td>block of flats</td>
      <td>0.0714</td>
      <td>Block</td>
      <td>No</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>-828.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>100004.0</td>
      <td>0</td>
      <td>Revolving loans</td>
      <td>M</td>
      <td>Y</td>
      <td>Y</td>
      <td>0.0</td>
      <td>67500.0</td>
      <td>135000.0</td>
      <td>6750.0</td>
      <td>135000.0</td>
      <td>Unaccompanied</td>
      <td>Working</td>
      <td>Secondary / secondary special</td>
      <td>Single / not married</td>
      <td>House / apartment</td>
      <td>0.010032</td>
      <td>-19046.0</td>
      <td>-225.0</td>
      <td>-4260.0</td>
      <td>-2531.0</td>
      <td>26.0</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>Laborers</td>
      <td>1.0</td>
      <td>2</td>
      <td>2</td>
      <td>1</td>
      <td>9.0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>Government</td>
      <td>NaN</td>
      <td>0.555912</td>
      <td>0.729567</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>-815.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>100006.0</td>
      <td>0</td>
      <td>Cash loans</td>
      <td>F</td>
      <td>N</td>
      <td>Y</td>
      <td>0.0</td>
      <td>135000.0</td>
      <td>312682.5</td>
      <td>29686.5</td>
      <td>297000.0</td>
      <td>Unaccompanied</td>
      <td>Working</td>
      <td>Secondary / secondary special</td>
      <td>Civil marriage</td>
      <td>House / apartment</td>
      <td>0.008019</td>
      <td>-19005.0</td>
      <td>-3039.0</td>
      <td>-9833.0</td>
      <td>-2437.0</td>
      <td>NaN</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>Laborers</td>
      <td>2.0</td>
      <td>2</td>
      <td>2</td>
      <td>3</td>
      <td>17.0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>Business Entity Type 3</td>
      <td>NaN</td>
      <td>0.650442</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2.0</td>
      <td>0.0</td>
      <td>2.0</td>
      <td>0.0</td>
      <td>-617.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>100007.0</td>
      <td>0</td>
      <td>Cash loans</td>
      <td>M</td>
      <td>N</td>
      <td>Y</td>
      <td>0.0</td>
      <td>121500.0</td>
      <td>513000.0</td>
      <td>21865.5</td>
      <td>513000.0</td>
      <td>Unaccompanied</td>
      <td>Working</td>
      <td>Secondary / secondary special</td>
      <td>Single / not married</td>
      <td>House / apartment</td>
      <td>0.028663</td>
      <td>-19932.0</td>
      <td>-3038.0</td>
      <td>-4311.0</td>
      <td>-3458.0</td>
      <td>NaN</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>Core staff</td>
      <td>1.0</td>
      <td>2</td>
      <td>2</td>
      <td>4</td>
      <td>11.0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>Religion</td>
      <td>NaN</td>
      <td>0.322738</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>-1106.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>5784</th>
      <td>106764.0</td>
      <td>0</td>
      <td>Cash loans</td>
      <td>F</td>
      <td>N</td>
      <td>Y</td>
      <td>0.0</td>
      <td>112050.0</td>
      <td>450000.0</td>
      <td>22977.0</td>
      <td>450000.0</td>
      <td>Unaccompanied</td>
      <td>Working</td>
      <td>Secondary / secondary special</td>
      <td>Married</td>
      <td>House / apartment</td>
      <td>0.024610</td>
      <td>-10249.0</td>
      <td>-2474.0</td>
      <td>-4482.0</td>
      <td>-2346.0</td>
      <td>NaN</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>Sales staff</td>
      <td>2.0</td>
      <td>2</td>
      <td>2</td>
      <td>7</td>
      <td>9.0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>Trade: type 3</td>
      <td>0.371027</td>
      <td>0.575786</td>
      <td>0.609276</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>-1641.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>4.0</td>
    </tr>
    <tr>
      <th>5785</th>
      <td>106765.0</td>
      <td>0</td>
      <td>Cash loans</td>
      <td>F</td>
      <td>N</td>
      <td>Y</td>
      <td>2.0</td>
      <td>63000.0</td>
      <td>112068.0</td>
      <td>12199.5</td>
      <td>99000.0</td>
      <td>Family</td>
      <td>Commercial associate</td>
      <td>Secondary / secondary special</td>
      <td>Married</td>
      <td>House / apartment</td>
      <td>0.018850</td>
      <td>-14853.0</td>
      <td>-1867.0</td>
      <td>-3521.0</td>
      <td>-4378.0</td>
      <td>NaN</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>NaN</td>
      <td>4.0</td>
      <td>2</td>
      <td>2</td>
      <td>5</td>
      <td>15.0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>Kindergarten</td>
      <td>NaN</td>
      <td>0.592031</td>
      <td>NaN</td>
      <td>0.1464</td>
      <td>0.0000</td>
      <td>0.9767</td>
      <td>0.6804</td>
      <td>0.0260</td>
      <td>0.00</td>
      <td>0.0345</td>
      <td>0.1667</td>
      <td>0.2083</td>
      <td>0.0488</td>
      <td>0.1194</td>
      <td>0.0615</td>
      <td>0.0000</td>
      <td>0.0198</td>
      <td>0.1492</td>
      <td>0.0000</td>
      <td>0.9767</td>
      <td>0.6929</td>
      <td>0.0262</td>
      <td>0.0000</td>
      <td>0.0345</td>
      <td>0.1667</td>
      <td>0.2083</td>
      <td>0.0500</td>
      <td>0.1304</td>
      <td>0.0640</td>
      <td>0.0000</td>
      <td>0.0209</td>
      <td>0.1478</td>
      <td>0.0000</td>
      <td>0.9767</td>
      <td>0.6847</td>
      <td>0.0262</td>
      <td>0.00</td>
      <td>0.0345</td>
      <td>0.1667</td>
      <td>0.2083</td>
      <td>0.0497</td>
      <td>0.1214</td>
      <td>0.0626</td>
      <td>0.0000</td>
      <td>0.0202</td>
      <td>reg oper account</td>
      <td>block of flats</td>
      <td>0.0668</td>
      <td>Stone, brick</td>
      <td>No</td>
      <td>2.0</td>
      <td>0.0</td>
      <td>2.0</td>
      <td>0.0</td>
      <td>-1201.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>5786</th>
      <td>106766.0</td>
      <td>0</td>
      <td>Cash loans</td>
      <td>M</td>
      <td>Y</td>
      <td>N</td>
      <td>0.0</td>
      <td>270000.0</td>
      <td>1350000.0</td>
      <td>35743.5</td>
      <td>1350000.0</td>
      <td>NaN</td>
      <td>Working</td>
      <td>Higher education</td>
      <td>Civil marriage</td>
      <td>With parents</td>
      <td>0.030755</td>
      <td>-11457.0</td>
      <td>-1764.0</td>
      <td>-5239.0</td>
      <td>-3707.0</td>
      <td>6.0</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>IT staff</td>
      <td>2.0</td>
      <td>2</td>
      <td>2</td>
      <td>3</td>
      <td>17.0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>Business Entity Type 3</td>
      <td>NaN</td>
      <td>0.703121</td>
      <td>0.203252</td>
      <td>0.1567</td>
      <td>0.1142</td>
      <td>0.9866</td>
      <td>0.8164</td>
      <td>0.0440</td>
      <td>0.16</td>
      <td>0.1379</td>
      <td>0.3333</td>
      <td>0.3750</td>
      <td>0.0536</td>
      <td>0.1252</td>
      <td>0.1589</td>
      <td>0.0116</td>
      <td>0.0487</td>
      <td>0.1597</td>
      <td>0.1185</td>
      <td>0.9866</td>
      <td>0.8236</td>
      <td>0.0444</td>
      <td>0.1611</td>
      <td>0.1379</td>
      <td>0.3333</td>
      <td>0.3750</td>
      <td>0.0548</td>
      <td>0.1368</td>
      <td>0.1656</td>
      <td>0.0117</td>
      <td>0.0515</td>
      <td>0.1582</td>
      <td>0.1142</td>
      <td>0.9866</td>
      <td>0.8189</td>
      <td>0.0443</td>
      <td>0.16</td>
      <td>0.1379</td>
      <td>0.3333</td>
      <td>0.3750</td>
      <td>0.0545</td>
      <td>0.1274</td>
      <td>0.1618</td>
      <td>0.0116</td>
      <td>0.0497</td>
      <td>reg oper account</td>
      <td>block of flats</td>
      <td>0.1587</td>
      <td>Stone, brick</td>
      <td>No</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>-527.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>5787</th>
      <td>106767.0</td>
      <td>0</td>
      <td>Cash loans</td>
      <td>F</td>
      <td>N</td>
      <td>N</td>
      <td>0.0</td>
      <td>67500.0</td>
      <td>153504.0</td>
      <td>15084.0</td>
      <td>144000.0</td>
      <td>Unaccompanied</td>
      <td>Pensioner</td>
      <td>Lower secondary</td>
      <td>Single / not married</td>
      <td>House / apartment</td>
      <td>0.018634</td>
      <td>-25054.0</td>
      <td>365243.0</td>
      <td>-1404.0</td>
      <td>-4797.0</td>
      <td>NaN</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>NaN</td>
      <td>1.0</td>
      <td>2</td>
      <td>2</td>
      <td>7</td>
      <td>10.0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>XNA</td>
      <td>NaN</td>
      <td>0.255691</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0.9781</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0.0175</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0.9782</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0.0182</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0.9781</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0.0178</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>block of flats</td>
      <td>0.0152</td>
      <td>NaN</td>
      <td>No</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>-1403.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>5788</th>
      <td>106768.0</td>
      <td>0</td>
      <td>Cash loans</td>
      <td>M</td>
      <td>Y</td>
      <td>Y</td>
      <td>0.0</td>
      <td>180000.0</td>
      <td>534204.0</td>
      <td>41472.0</td>
      <td>495000.0</td>
      <td>Unaccompanied</td>
      <td>Commercial associate</td>
      <td>Secondary / secondary special</td>
      <td>Separated</td>
      <td>House / apartment</td>
      <td>0.003818</td>
      <td>-18391.0</td>
      <td>-1911.0</td>
      <td>-284.0</td>
      <td>-1931.0</td>
      <td>2.0</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>Laborers</td>
      <td>1.0</td>
      <td>2</td>
      <td>2</td>
      <td>1</td>
      <td>7.0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>Business Entity Type 3</td>
      <td>NaN</td>
      <td>0.565091</td>
      <td>0.488455</td>
      <td>0.0247</td>
      <td>NaN</td>
      <td>0.9995</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0.00</td>
      <td>0.0690</td>
      <td>0.0833</td>
      <td>NaN</td>
      <td>0.1146</td>
      <td>NaN</td>
      <td>0.0166</td>
      <td>NaN</td>
      <td>0.0000</td>
      <td>0.0252</td>
      <td>NaN</td>
      <td>0.9995</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0.0000</td>
      <td>0.0690</td>
      <td>0.0833</td>
      <td>NaN</td>
      <td>0.1172</td>
      <td>NaN</td>
      <td>0.0173</td>
      <td>NaN</td>
      <td>0.0000</td>
      <td>0.0250</td>
      <td>NaN</td>
      <td>0.9995</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0.00</td>
      <td>0.0690</td>
      <td>0.0833</td>
      <td>NaN</td>
      <td>0.1000</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
<p>5789 rows × 122 columns</p>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-6e2aaadf-72d3-4623-9d7a-d7168b483cc6')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-6e2aaadf-72d3-4623-9d7a-d7168b483cc6 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-6e2aaadf-72d3-4623-9d7a-d7168b483cc6');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-66545072-6574-43ca-898e-3c9b6488a66a">
  <button class="colab-df-quickchart" onclick="quickchart('df-66545072-6574-43ca-898e-3c9b6488a66a')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-66545072-6574-43ca-898e-3c9b6488a66a button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

  <div id="id_47d2fea8-05f0-465b-b831-c5839db6e99b">
    <style>
      .colab-df-generate {
        background-color: #E8F0FE;
        border: none;
        border-radius: 50%;
        cursor: pointer;
        display: none;
        fill: #1967D2;
        height: 32px;
        padding: 0 0 0 0;
        width: 32px;
      }

      .colab-df-generate:hover {
        background-color: #E2EBFA;
        box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
        fill: #174EA6;
      }

      [theme=dark] .colab-df-generate {
        background-color: #3B4455;
        fill: #D2E3FC;
      }

      [theme=dark] .colab-df-generate:hover {
        background-color: #434B5C;
        box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
        filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
        fill: #FFFFFF;
      }
    </style>
    <button class="colab-df-generate" onclick="generateWithVariable('credit_procesado')"
            title="Generate code using this dataframe."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M7,19H8.4L18.45,9,17,7.55,7,17.6ZM5,21V16.75L18.45,3.32a2,2,0,0,1,2.83,0l1.4,1.43a1.91,1.91,0,0,1,.58,1.4,1.91,1.91,0,0,1-.58,1.4L9.25,21ZM18.45,9,17,7.55Zm-12,3A5.31,5.31,0,0,0,4.9,8.1,5.31,5.31,0,0,0,1,6.5,5.31,5.31,0,0,0,4.9,4.9,5.31,5.31,0,0,0,6.5,1,5.31,5.31,0,0,0,8.1,4.9,5.31,5.31,0,0,0,12,6.5,5.46,5.46,0,0,0,6.5,12Z"/>
  </svg>
    </button>
    <script>
      (() => {
      const buttonEl =
        document.querySelector('#id_47d2fea8-05f0-465b-b831-c5839db6e99b button.colab-df-generate');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      buttonEl.onclick = () => {
        google.colab.notebook.generateWithVariable('credit_procesado');
      }
      })();
    </script>
  </div>

    </div>
  </div>

</div>
</div>
<div class="cell code" data-execution_count="149"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}"
id="6ZPhP4yBFQmb" data-outputId="e94e3c58-be40-4fb1-b270-50ea86eb5050">
<div class="sourceCode" id="cb4"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>credit_procesado.shape</span></code></pre></div>
<div class="output execute_result" data-execution_count="149">
<pre><code>(5789, 122)</code></pre>
</div>
</div>
<div class="cell code" data-execution_count="150"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}"
id="wvKVqu0PFTqi" data-outputId="300c1b23-7ce3-4f01-ac22-e3a00986205c">
<div class="sourceCode" id="cb6"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>credit_procesado.columns</span></code></pre></div>
<div class="output execute_result" data-execution_count="150">
<pre><code>Index([&#39;sk_id_curr&#39;, &#39;target&#39;, &#39;name_contract_type&#39;, &#39;code_gender&#39;,
       &#39;flag_own_car&#39;, &#39;flag_own_realty&#39;, &#39;cnt_children&#39;, &#39;amt_income_total&#39;,
       &#39;amt_credit&#39;, &#39;amt_annuity&#39;,
       ...
       &#39;flag_document_18&#39;, &#39;flag_document_19&#39;, &#39;flag_document_20&#39;,
       &#39;flag_document_21&#39;, &#39;amt_req_credit_bureau_hour&#39;,
       &#39;amt_req_credit_bureau_day&#39;, &#39;amt_req_credit_bureau_week&#39;,
       &#39;amt_req_credit_bureau_mon&#39;, &#39;amt_req_credit_bureau_qrt&#39;,
       &#39;amt_req_credit_bureau_year&#39;],
      dtype=&#39;object&#39;, length=122)</code></pre>
</div>
</div>
<div class="cell markdown" id="UAdGLSTAfamR">
<p>Procederemos a reestructurar las variables clasificándolas nuevamente
según su tipo de datos y la información que contienen, dividiéndolas en
variables categóricas y continuas, de manera similar a como lo hicimos
en el análisis previo.</p>
<p>Para esto, vamos a calcular la cantidad de valores únicos para cada
variable en el conjunto de datos. Este procedimiento nos permitirá
obtener una idea general de cuáles variables podrían ser categóricas y
cuáles numéricas. Una vez realizados los cálculos, hemos establecido un
umbral de 50 valores únicos, ya que el conjunto de datos contiene un
número considerable de filas, y consideramos que este valor es adecuado
para la distinción inicial. Este umbral puede ajustarse posteriormente a
medida que avanzamos en el análisis.</p>
<p>En términos prácticos, aquellas variables cuyo número de valores
únicos sea inferior a 50 serán consideradas como variables categóricas,
mientras que aquellas que superen los 50 valores únicos se clasificarán
como numéricas. Esto se basa en la premisa de que, generalmente, las
variables categóricas tienden a tener un número limitado de valores
distintos, mientras que las variables numéricas suelen tener una mayor
diversidad de valores.</p>
<p>Al revisar las variables que hemos clasificado inicialmente como
categóricas, nos hemos percatado de que algunas de ellas, a pesar de
tener menos de 50 valores únicos, en realidad son variables numéricas.
Un ejemplo de esto es la variable <code>obs_30_cnt_social_circle</code>,
que contiene solo 33 valores únicos, pero representa el número de
observaciones del entorno social del cliente con mora observable de 30
días (DPD, por sus siglas en inglés), lo cual claramente indica que se
trata de una variable numérica.</p>
<p>En base a este análisis, hemos decidido reconsiderar la clasificación
de esta y otras variables similares, cambiándolas a numéricas, ya que su
naturaleza y contexto sugieren que deben ser tratadas como tales,
independientemente de la cantidad de valores únicos que tengan.</p>
</div>
<div class="cell code" data-execution_count="151"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}"
id="_Z4M_S4oKkWO" data-outputId="848a9733-5f15-43d6-e27f-70c9c741a29a">
<div class="sourceCode" id="cb8"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>dict_nunique <span class="op">=</span> {col: credit_procesado[col].nunique() <span class="cf">for</span> col <span class="kw">in</span> credit_procesado.columns}</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>filtrado_dict <span class="op">=</span> {key: value <span class="cf">for</span> key, value <span class="kw">in</span> dict_nunique.items() <span class="cf">if</span> value <span class="op">&lt;</span> <span class="dv">50</span>}</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>list_var_cat <span class="op">=</span> <span class="bu">list</span>(filtrado_dict.keys())</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>list_var_continuous <span class="op">=</span> [col <span class="cf">for</span> col <span class="kw">in</span> credit_procesado.select_dtypes(include<span class="op">=</span><span class="st">&#39;number&#39;</span>).columns <span class="cf">if</span> col <span class="kw">not</span> <span class="kw">in</span> list_var_cat]</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>manual_numeric_vars <span class="op">=</span> [</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;amt_req_credit_bureau_hour&#39;</span>,</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;amt_req_credit_bureau_day&#39;</span>,</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;amt_req_credit_bureau_week&#39;</span>,</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;amt_req_credit_bureau_mon&#39;</span>,</span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;amt_req_credit_bureau_qrt&#39;</span>,</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;amt_req_credit_bureau_year&#39;</span>,</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;obs_30_cnt_social_circle&#39;</span>,</span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;def_30_cnt_social_circle&#39;</span>,</span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;obs_60_cnt_social_circle&#39;</span>,</span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;def_60_cnt_social_circle&#39;</span>,</span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;elevators_mode&#39;</span>,</span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;entrances_mode&#39;</span>,</span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;floorsmax_mode&#39;</span>,</span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;floorsmin_mode&#39;</span>,</span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;elevators_medi&#39;</span>,</span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;entrances_medi&#39;</span>,</span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;floorsmax_medi&#39;</span>,</span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;floorsmin_medi&#39;</span>,</span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;hour_appr_process_start&#39;</span>,</span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;cnt_fam_members&#39;</span>,</span>
<span id="cb8-28"><a href="#cb8-28" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;cnt_children&#39;</span>,</span>
<span id="cb8-29"><a href="#cb8-29" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;nonlivingapartments_mode&#39;</span>,</span>
<span id="cb8-30"><a href="#cb8-30" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;own_car_age&#39;</span>,</span>
<span id="cb8-31"><a href="#cb8-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-32"><a href="#cb8-32" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb8-33"><a href="#cb8-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-34"><a href="#cb8-34" aria-hidden="true" tabindex="-1"></a>list_var_cat <span class="op">=</span> [col <span class="cf">for</span> col <span class="kw">in</span> list_var_cat <span class="cf">if</span> col <span class="kw">not</span> <span class="kw">in</span> manual_numeric_vars]</span>
<span id="cb8-35"><a href="#cb8-35" aria-hidden="true" tabindex="-1"></a>list_var_continuous <span class="op">+=</span> manual_numeric_vars</span>
<span id="cb8-36"><a href="#cb8-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-37"><a href="#cb8-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-38"><a href="#cb8-38" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;Variables categóricas:&quot;</span>, list_var_cat)</span>
<span id="cb8-39"><a href="#cb8-39" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;Variables numéricas:&quot;</span>, list_var_continuous)</span></code></pre></div>
<div class="output stream stdout">
<pre><code>Variables categóricas: [&#39;target&#39;, &#39;name_contract_type&#39;, &#39;code_gender&#39;, &#39;flag_own_car&#39;, &#39;flag_own_realty&#39;, &#39;name_type_suite&#39;, &#39;name_income_type&#39;, &#39;name_education_type&#39;, &#39;name_family_status&#39;, &#39;name_housing_type&#39;, &#39;flag_mobil&#39;, &#39;flag_emp_phone&#39;, &#39;flag_work_phone&#39;, &#39;flag_cont_mobile&#39;, &#39;flag_phone&#39;, &#39;flag_email&#39;, &#39;occupation_type&#39;, &#39;region_rating_client&#39;, &#39;region_rating_client_w_city&#39;, &#39;weekday_appr_process_start&#39;, &#39;reg_region_not_live_region&#39;, &#39;reg_region_not_work_region&#39;, &#39;live_region_not_work_region&#39;, &#39;reg_city_not_live_city&#39;, &#39;reg_city_not_work_city&#39;, &#39;live_city_not_work_city&#39;, &#39;fondkapremont_mode&#39;, &#39;housetype_mode&#39;, &#39;wallsmaterial_mode&#39;, &#39;emergencystate_mode&#39;, &#39;flag_document_2&#39;, &#39;flag_document_3&#39;, &#39;flag_document_4&#39;, &#39;flag_document_5&#39;, &#39;flag_document_6&#39;, &#39;flag_document_7&#39;, &#39;flag_document_8&#39;, &#39;flag_document_9&#39;, &#39;flag_document_10&#39;, &#39;flag_document_11&#39;, &#39;flag_document_12&#39;, &#39;flag_document_13&#39;, &#39;flag_document_14&#39;, &#39;flag_document_15&#39;, &#39;flag_document_16&#39;, &#39;flag_document_17&#39;, &#39;flag_document_18&#39;, &#39;flag_document_19&#39;, &#39;flag_document_20&#39;, &#39;flag_document_21&#39;]
Variables numéricas: [&#39;sk_id_curr&#39;, &#39;amt_income_total&#39;, &#39;amt_credit&#39;, &#39;amt_annuity&#39;, &#39;amt_goods_price&#39;, &#39;region_population_relative&#39;, &#39;days_birth&#39;, &#39;days_employed&#39;, &#39;days_registration&#39;, &#39;days_id_publish&#39;, &#39;ext_source_1&#39;, &#39;ext_source_2&#39;, &#39;ext_source_3&#39;, &#39;apartments_avg&#39;, &#39;basementarea_avg&#39;, &#39;years_beginexpluatation_avg&#39;, &#39;years_build_avg&#39;, &#39;commonarea_avg&#39;, &#39;elevators_avg&#39;, &#39;entrances_avg&#39;, &#39;floorsmax_avg&#39;, &#39;floorsmin_avg&#39;, &#39;landarea_avg&#39;, &#39;livingapartments_avg&#39;, &#39;livingarea_avg&#39;, &#39;nonlivingapartments_avg&#39;, &#39;nonlivingarea_avg&#39;, &#39;apartments_mode&#39;, &#39;basementarea_mode&#39;, &#39;years_beginexpluatation_mode&#39;, &#39;years_build_mode&#39;, &#39;commonarea_mode&#39;, &#39;landarea_mode&#39;, &#39;livingapartments_mode&#39;, &#39;livingarea_mode&#39;, &#39;nonlivingarea_mode&#39;, &#39;apartments_medi&#39;, &#39;basementarea_medi&#39;, &#39;years_beginexpluatation_medi&#39;, &#39;years_build_medi&#39;, &#39;commonarea_medi&#39;, &#39;landarea_medi&#39;, &#39;livingapartments_medi&#39;, &#39;livingarea_medi&#39;, &#39;nonlivingapartments_medi&#39;, &#39;nonlivingarea_medi&#39;, &#39;totalarea_mode&#39;, &#39;days_last_phone_change&#39;, &#39;amt_req_credit_bureau_hour&#39;, &#39;amt_req_credit_bureau_day&#39;, &#39;amt_req_credit_bureau_week&#39;, &#39;amt_req_credit_bureau_mon&#39;, &#39;amt_req_credit_bureau_qrt&#39;, &#39;amt_req_credit_bureau_year&#39;, &#39;obs_30_cnt_social_circle&#39;, &#39;def_30_cnt_social_circle&#39;, &#39;obs_60_cnt_social_circle&#39;, &#39;def_60_cnt_social_circle&#39;, &#39;elevators_mode&#39;, &#39;entrances_mode&#39;, &#39;floorsmax_mode&#39;, &#39;floorsmin_mode&#39;, &#39;elevators_medi&#39;, &#39;entrances_medi&#39;, &#39;floorsmax_medi&#39;, &#39;floorsmin_medi&#39;, &#39;hour_appr_process_start&#39;, &#39;cnt_fam_members&#39;, &#39;cnt_children&#39;, &#39;nonlivingapartments_mode&#39;, &#39;own_car_age&#39;]
</code></pre>
</div>
</div>
<div class="cell code" data-execution_count="152"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:1000}"
data-collapsed="true" id="EYeK60nLLQY4"
data-outputId="cc2e1dda-dd4e-4aef-e924-6fb92e5f69a6">
<div class="sourceCode" id="cb10"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>credit_procesado[list_var_cat] <span class="op">=</span> credit_procesado[list_var_cat].astype(<span class="st">&quot;category&quot;</span>)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>credit_procesado[list_var_continuous] <span class="op">=</span> credit_procesado[list_var_continuous].astype(<span class="bu">float</span>)</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>credit_procesado.dtypes</span></code></pre></div>
<div class="output execute_result" data-execution_count="152">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>0</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>sk_id_curr</th>
      <td>float64</td>
    </tr>
    <tr>
      <th>target</th>
      <td>category</td>
    </tr>
    <tr>
      <th>name_contract_type</th>
      <td>category</td>
    </tr>
    <tr>
      <th>code_gender</th>
      <td>category</td>
    </tr>
    <tr>
      <th>flag_own_car</th>
      <td>category</td>
    </tr>
    <tr>
      <th>flag_own_realty</th>
      <td>category</td>
    </tr>
    <tr>
      <th>cnt_children</th>
      <td>float64</td>
    </tr>
    <tr>
      <th>amt_income_total</th>
      <td>float64</td>
    </tr>
    <tr>
      <th>amt_credit</th>
      <td>float64</td>
    </tr>
    <tr>
      <th>amt_annuity</th>
      <td>float64</td>
    </tr>
    <tr>
      <th>amt_goods_price</th>
      <td>float64</td>
    </tr>
    <tr>
      <th>name_type_suite</th>
      <td>category</td>
    </tr>
    <tr>
      <th>name_income_type</th>
      <td>category</td>
    </tr>
    <tr>
      <th>name_education_type</th>
      <td>category</td>
    </tr>
    <tr>
      <th>name_family_status</th>
      <td>category</td>
    </tr>
    <tr>
      <th>name_housing_type</th>
      <td>category</td>
    </tr>
    <tr>
      <th>region_population_relative</th>
      <td>float64</td>
    </tr>
    <tr>
      <th>days_birth</th>
      <td>float64</td>
    </tr>
    <tr>
      <th>days_employed</th>
      <td>float64</td>
    </tr>
    <tr>
      <th>days_registration</th>
      <td>float64</td>
    </tr>
    <tr>
      <th>days_id_publish</th>
      <td>float64</td>
    </tr>
    <tr>
      <th>own_car_age</th>
      <td>float64</td>
    </tr>
    <tr>
      <th>flag_mobil</th>
      <td>category</td>
    </tr>
    <tr>
      <th>flag_emp_phone</th>
      <td>category</td>
    </tr>
    <tr>
      <th>flag_work_phone</th>
      <td>category</td>
    </tr>
    <tr>
      <th>flag_cont_mobile</th>
      <td>category</td>
    </tr>
    <tr>
      <th>flag_phone</th>
      <td>category</td>
    </tr>
    <tr>
      <th>flag_email</th>
      <td>category</td>
    </tr>
    <tr>
      <th>occupation_type</th>
      <td>category</td>
    </tr>
    <tr>
      <th>cnt_fam_members</th>
      <td>float64</td>
    </tr>
    <tr>
      <th>region_rating_client</th>
      <td>category</td>
    </tr>
    <tr>
      <th>region_rating_client_w_city</th>
      <td>category</td>
    </tr>
    <tr>
      <th>weekday_appr_process_start</th>
      <td>category</td>
    </tr>
    <tr>
      <th>hour_appr_process_start</th>
      <td>float64</td>
    </tr>
    <tr>
      <th>reg_region_not_live_region</th>
      <td>category</td>
    </tr>
    <tr>
      <th>reg_region_not_work_region</th>
      <td>category</td>
    </tr>
    <tr>
      <th>live_region_not_work_region</th>
      <td>category</td>
    </tr>
    <tr>
      <th>reg_city_not_live_city</th>
      <td>category</td>
    </tr>
    <tr>
      <th>reg_city_not_work_city</th>
      <td>category</td>
    </tr>
    <tr>
      <th>live_city_not_work_city</th>
      <td>category</td>
    </tr>
    <tr>
      <th>organization_type</th>
      <td>object</td>
    </tr>
    <tr>
      <th>ext_source_1</th>
      <td>float64</td>
    </tr>
    <tr>
      <th>ext_source_2</th>
      <td>float64</td>
    </tr>
    <tr>
      <th>ext_source_3</th>
      <td>float64</td>
    </tr>
    <tr>
      <th>apartments_avg</th>
      <td>float64</td>
    </tr>
    <tr>
      <th>basementarea_avg</th>
      <td>float64</td>
    </tr>
    <tr>
      <th>years_beginexpluatation_avg</th>
      <td>float64</td>
    </tr>
    <tr>
      <th>years_build_avg</th>
      <td>float64</td>
    </tr>
    <tr>
      <th>commonarea_avg</th>
      <td>float64</td>
    </tr>
    <tr>
      <th>elevators_avg</th>
      <td>float64</td>
    </tr>
    <tr>
      <th>entrances_avg</th>
      <td>float64</td>
    </tr>
    <tr>
      <th>floorsmax_avg</th>
      <td>float64</td>
    </tr>
    <tr>
      <th>floorsmin_avg</th>
      <td>float64</td>
    </tr>
    <tr>
      <th>landarea_avg</th>
      <td>float64</td>
    </tr>
    <tr>
      <th>livingapartments_avg</th>
      <td>float64</td>
    </tr>
    <tr>
      <th>livingarea_avg</th>
      <td>float64</td>
    </tr>
    <tr>
      <th>nonlivingapartments_avg</th>
      <td>float64</td>
    </tr>
    <tr>
      <th>nonlivingarea_avg</th>
      <td>float64</td>
    </tr>
    <tr>
      <th>apartments_mode</th>
      <td>float64</td>
    </tr>
    <tr>
      <th>basementarea_mode</th>
      <td>float64</td>
    </tr>
    <tr>
      <th>years_beginexpluatation_mode</th>
      <td>float64</td>
    </tr>
    <tr>
      <th>years_build_mode</th>
      <td>float64</td>
    </tr>
    <tr>
      <th>commonarea_mode</th>
      <td>float64</td>
    </tr>
    <tr>
      <th>elevators_mode</th>
      <td>float64</td>
    </tr>
    <tr>
      <th>entrances_mode</th>
      <td>float64</td>
    </tr>
    <tr>
      <th>floorsmax_mode</th>
      <td>float64</td>
    </tr>
    <tr>
      <th>floorsmin_mode</th>
      <td>float64</td>
    </tr>
    <tr>
      <th>landarea_mode</th>
      <td>float64</td>
    </tr>
    <tr>
      <th>livingapartments_mode</th>
      <td>float64</td>
    </tr>
    <tr>
      <th>livingarea_mode</th>
      <td>float64</td>
    </tr>
    <tr>
      <th>nonlivingapartments_mode</th>
      <td>float64</td>
    </tr>
    <tr>
      <th>nonlivingarea_mode</th>
      <td>float64</td>
    </tr>
    <tr>
      <th>apartments_medi</th>
      <td>float64</td>
    </tr>
    <tr>
      <th>basementarea_medi</th>
      <td>float64</td>
    </tr>
    <tr>
      <th>years_beginexpluatation_medi</th>
      <td>float64</td>
    </tr>
    <tr>
      <th>years_build_medi</th>
      <td>float64</td>
    </tr>
    <tr>
      <th>commonarea_medi</th>
      <td>float64</td>
    </tr>
    <tr>
      <th>elevators_medi</th>
      <td>float64</td>
    </tr>
    <tr>
      <th>entrances_medi</th>
      <td>float64</td>
    </tr>
    <tr>
      <th>floorsmax_medi</th>
      <td>float64</td>
    </tr>
    <tr>
      <th>floorsmin_medi</th>
      <td>float64</td>
    </tr>
    <tr>
      <th>landarea_medi</th>
      <td>float64</td>
    </tr>
    <tr>
      <th>livingapartments_medi</th>
      <td>float64</td>
    </tr>
    <tr>
      <th>livingarea_medi</th>
      <td>float64</td>
    </tr>
    <tr>
      <th>nonlivingapartments_medi</th>
      <td>float64</td>
    </tr>
    <tr>
      <th>nonlivingarea_medi</th>
      <td>float64</td>
    </tr>
    <tr>
      <th>fondkapremont_mode</th>
      <td>category</td>
    </tr>
    <tr>
      <th>housetype_mode</th>
      <td>category</td>
    </tr>
    <tr>
      <th>totalarea_mode</th>
      <td>float64</td>
    </tr>
    <tr>
      <th>wallsmaterial_mode</th>
      <td>category</td>
    </tr>
    <tr>
      <th>emergencystate_mode</th>
      <td>category</td>
    </tr>
    <tr>
      <th>obs_30_cnt_social_circle</th>
      <td>float64</td>
    </tr>
    <tr>
      <th>def_30_cnt_social_circle</th>
      <td>float64</td>
    </tr>
    <tr>
      <th>obs_60_cnt_social_circle</th>
      <td>float64</td>
    </tr>
    <tr>
      <th>def_60_cnt_social_circle</th>
      <td>float64</td>
    </tr>
    <tr>
      <th>days_last_phone_change</th>
      <td>float64</td>
    </tr>
    <tr>
      <th>flag_document_2</th>
      <td>category</td>
    </tr>
    <tr>
      <th>flag_document_3</th>
      <td>category</td>
    </tr>
    <tr>
      <th>flag_document_4</th>
      <td>category</td>
    </tr>
    <tr>
      <th>flag_document_5</th>
      <td>category</td>
    </tr>
    <tr>
      <th>flag_document_6</th>
      <td>category</td>
    </tr>
    <tr>
      <th>flag_document_7</th>
      <td>category</td>
    </tr>
    <tr>
      <th>flag_document_8</th>
      <td>category</td>
    </tr>
    <tr>
      <th>flag_document_9</th>
      <td>category</td>
    </tr>
    <tr>
      <th>flag_document_10</th>
      <td>category</td>
    </tr>
    <tr>
      <th>flag_document_11</th>
      <td>category</td>
    </tr>
    <tr>
      <th>flag_document_12</th>
      <td>category</td>
    </tr>
    <tr>
      <th>flag_document_13</th>
      <td>category</td>
    </tr>
    <tr>
      <th>flag_document_14</th>
      <td>category</td>
    </tr>
    <tr>
      <th>flag_document_15</th>
      <td>category</td>
    </tr>
    <tr>
      <th>flag_document_16</th>
      <td>category</td>
    </tr>
    <tr>
      <th>flag_document_17</th>
      <td>category</td>
    </tr>
    <tr>
      <th>flag_document_18</th>
      <td>category</td>
    </tr>
    <tr>
      <th>flag_document_19</th>
      <td>category</td>
    </tr>
    <tr>
      <th>flag_document_20</th>
      <td>category</td>
    </tr>
    <tr>
      <th>flag_document_21</th>
      <td>category</td>
    </tr>
    <tr>
      <th>amt_req_credit_bureau_hour</th>
      <td>float64</td>
    </tr>
    <tr>
      <th>amt_req_credit_bureau_day</th>
      <td>float64</td>
    </tr>
    <tr>
      <th>amt_req_credit_bureau_week</th>
      <td>float64</td>
    </tr>
    <tr>
      <th>amt_req_credit_bureau_mon</th>
      <td>float64</td>
    </tr>
    <tr>
      <th>amt_req_credit_bureau_qrt</th>
      <td>float64</td>
    </tr>
    <tr>
      <th>amt_req_credit_bureau_year</th>
      <td>float64</td>
    </tr>
  </tbody>
</table>
</div><br><label><b>dtype:</b> object</label>
</div>
</div>
<section id="separación-en-train-y-test-estratificado"
class="cell markdown" id="-VF9VaBPLhdV">
<h2><strong>Separación en train y test estratificado</strong></h2>
</section>
<div class="cell markdown" id="d0dbwWgJfk42">
<p>Antes de proceder con la separación en conjuntos de entrenamiento y
prueba, vamos a visualizar un gráfico de barras que muestre la
distribución porcentual y el conteo de la variable <code>target</code>
en los datos. Para ello, primero calcularemos el porcentaje y el conteo
de cada valor en la variable <code>target</code>, los combinaremos en un
solo DataFrame y luego utilizaremos Plotly para generar un histograma
que visualice estos valores de manera clara.</p>
</div>
<div class="cell code" data-execution_count="153"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:542}"
id="1HSP5E91MwA0" data-outputId="bf4f49bc-e98b-4183-94ba-6c89132d1529">
<div class="sourceCode" id="cb11"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>pd_plot_target <span class="op">=</span> credit_procesado[<span class="st">&#39;target&#39;</span>].value_counts(normalize<span class="op">=</span><span class="va">True</span>).mul(<span class="dv">100</span>).rename(<span class="st">&#39;percent&#39;</span>).reset_index()</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>pd_plot_target.rename(columns<span class="op">=</span>{<span class="st">&#39;index&#39;</span>: <span class="st">&#39;target&#39;</span>}, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>pd_plot_target_conteo <span class="op">=</span> credit_procesado[<span class="st">&#39;target&#39;</span>].value_counts().rename(<span class="st">&#39;count&#39;</span>).reset_index()</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>pd_plot_target_conteo.rename(columns<span class="op">=</span>{<span class="st">&#39;index&#39;</span>: <span class="st">&#39;target&#39;</span>}, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>pd_plot_target_pc <span class="op">=</span> pd.merge(pd_plot_target, pd_plot_target_conteo, on<span class="op">=</span>[<span class="st">&#39;target&#39;</span>], how<span class="op">=</span><span class="st">&#39;inner&#39;</span>)</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> px.histogram(pd_plot_target_pc, x<span class="op">=</span><span class="st">&quot;target&quot;</span>, y<span class="op">=</span><span class="st">&quot;percent&quot;</span>)</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>fig.update_layout(</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>    bargap<span class="op">=</span><span class="fl">0.2</span>)</span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>fig.show()</span></code></pre></div>
<div class="output display_data">
<html>
<head><meta charset="utf-8" /></head>
<body>
    <div>            <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG"></script><script type="text/javascript">if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}</script>                <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-2.35.2.min.js"></script>                <div id="ba87794b-c57a-4f71-a6d4-dd36c438ec7f" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("ba87794b-c57a-4f71-a6d4-dd36c438ec7f")) {                    Plotly.newPlot(                        "ba87794b-c57a-4f71-a6d4-dd36c438ec7f",                        [{"alignmentgroup":"True","bingroup":"x","histfunc":"sum","hovertemplate":"target=%{x}\u003cbr\u003esum of percent=%{y}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"","marker":{"color":"#636efa","pattern":{"shape":""}},"name":"","offsetgroup":"","orientation":"v","showlegend":false,"x":[0,1],"xaxis":"x","y":[92.26118500604595,7.73881499395405],"yaxis":"y","type":"histogram"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"target"}},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"sum of percent"}},"legend":{"tracegroupgap":0},"margin":{"t":60},"barmode":"relative","bargap":0.2},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('ba87794b-c57a-4f71-a6d4-dd36c438ec7f');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                            </script>        </div>
</body>
</html>
</div>
</div>
<div class="cell markdown" id="XaaF3TSafugc">
<p>A continuación, vamos a preparar los datos para entrenar el modelo,
dividiéndolos en dos conjuntos: uno de entrenamiento (80%) y uno de
prueba (20%). La división se hace de forma estratificada, asegurando que
la distribución de la variable objetivo (<code>target</code>) sea
similar en ambos conjuntos. Esto es importante para que el modelo
entrene y se evalúe con representaciones equilibradas de las clases.
Finalmente, se combinan las características con la variable objetivo en
ambos conjuntos y se imprime la distribución de las clases en cada uno
para verificar la correcta representación.</p>
</div>
<div class="cell code" data-execution_count="154" id="lO0BH9IgLYY6">
<div class="sourceCode" id="cb12"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>X <span class="op">=</span> credit_procesado.drop(<span class="st">&#39;target&#39;</span>, axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> credit_procesado[<span class="st">&#39;target&#39;</span>]</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>X_train, X_test, y_train, y_test <span class="op">=</span> train_test_split(X, y, test_size<span class="op">=</span><span class="fl">0.2</span>, stratify<span class="op">=</span>y)</span></code></pre></div>
</div>
<div class="cell code" data-execution_count="155"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}"
id="rt9MfETcLsls" data-outputId="c0ff9317-43e3-4211-ba67-4b6b0c8ca8a6">
<div class="sourceCode" id="cb13"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>credit_procesado_train <span class="op">=</span> pd.concat([X_train, y_train], axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>credit_procesado_test <span class="op">=</span> pd.concat([X_test, y_test], axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&#39;== Distribución en el conjunto de entrenamiento ==&#39;</span>)</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(credit_procesado_train[<span class="st">&#39;target&#39;</span>].value_counts(normalize<span class="op">=</span><span class="va">True</span>))</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&#39;== Distribución en el conjunto de prueba ==&#39;</span>)</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(credit_procesado_test[<span class="st">&#39;target&#39;</span>].value_counts(normalize<span class="op">=</span><span class="va">True</span>))</span></code></pre></div>
<div class="output stream stdout">
<pre><code>== Distribución en el conjunto de entrenamiento ==
target
0    0.922695
1    0.077305
Name: proportion, dtype: float64
== Distribución en el conjunto de prueba ==
target
0    0.92228
1    0.07772
Name: proportion, dtype: float64
</code></pre>
</div>
</div>
<section id="visualización-descriptiva-de-los-datos"
class="cell markdown" id="j0E8BfliNqO9">
<h2><strong>Visualización descriptiva de los datos</strong></h2>
<p>Visualizamos el número de valores nulos por filas y por columnas</p>
</section>
<div class="cell code" data-execution_count="156" id="F1xmB05Hk6nU">
<div class="sourceCode" id="cb15"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>pd_null_columnas, pd_null_filas <span class="op">=</span> analizar_nulos(credit_procesado_train)</span></code></pre></div>
</div>
<div class="cell code" data-execution_count="157"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}"
id="rePayKCTmzaM" data-outputId="d7cab471-8e41-4216-f31c-33f4c8cc8195">
<div class="sourceCode" id="cb16"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(pd_null_columnas[<span class="st">&#39;nulos_columnas&#39;</span>].shape, pd_null_filas[<span class="st">&#39;nulos_filas&#39;</span>].shape)</span></code></pre></div>
<div class="output stream stdout">
<pre><code>(122,) (4631,)
</code></pre>
</div>
</div>
<div class="cell code" data-execution_count="158"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:1000}"
data-collapsed="true" id="PP7aioKalYsx"
data-outputId="c609ce84-982d-4436-b376-414e55093009">
<div class="sourceCode" id="cb18"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>pd_null_columnas</span></code></pre></div>
<div class="output execute_result" data-execution_count="158">

  <div id="df-6ac61d74-6d05-4a74-a342-04d4595e1b9a" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>nulos_columnas</th>
      <th>porcentaje (%)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>commonarea_mode</th>
      <td>3180</td>
      <td>68.67</td>
    </tr>
    <tr>
      <th>commonarea_avg</th>
      <td>3180</td>
      <td>68.67</td>
    </tr>
    <tr>
      <th>commonarea_medi</th>
      <td>3180</td>
      <td>68.67</td>
    </tr>
    <tr>
      <th>nonlivingapartments_mode</th>
      <td>3168</td>
      <td>68.41</td>
    </tr>
    <tr>
      <th>nonlivingapartments_avg</th>
      <td>3168</td>
      <td>68.41</td>
    </tr>
    <tr>
      <th>nonlivingapartments_medi</th>
      <td>3168</td>
      <td>68.41</td>
    </tr>
    <tr>
      <th>livingapartments_medi</th>
      <td>3119</td>
      <td>67.35</td>
    </tr>
    <tr>
      <th>livingapartments_avg</th>
      <td>3119</td>
      <td>67.35</td>
    </tr>
    <tr>
      <th>livingapartments_mode</th>
      <td>3119</td>
      <td>67.35</td>
    </tr>
    <tr>
      <th>fondkapremont_mode</th>
      <td>3100</td>
      <td>66.94</td>
    </tr>
    <tr>
      <th>floorsmin_medi</th>
      <td>3081</td>
      <td>66.53</td>
    </tr>
    <tr>
      <th>floorsmin_mode</th>
      <td>3081</td>
      <td>66.53</td>
    </tr>
    <tr>
      <th>floorsmin_avg</th>
      <td>3081</td>
      <td>66.53</td>
    </tr>
    <tr>
      <th>own_car_age</th>
      <td>3044</td>
      <td>65.73</td>
    </tr>
    <tr>
      <th>years_build_avg</th>
      <td>3014</td>
      <td>65.08</td>
    </tr>
    <tr>
      <th>years_build_medi</th>
      <td>3014</td>
      <td>65.08</td>
    </tr>
    <tr>
      <th>years_build_mode</th>
      <td>3014</td>
      <td>65.08</td>
    </tr>
    <tr>
      <th>landarea_avg</th>
      <td>2694</td>
      <td>58.17</td>
    </tr>
    <tr>
      <th>landarea_medi</th>
      <td>2694</td>
      <td>58.17</td>
    </tr>
    <tr>
      <th>landarea_mode</th>
      <td>2694</td>
      <td>58.17</td>
    </tr>
    <tr>
      <th>basementarea_avg</th>
      <td>2658</td>
      <td>57.40</td>
    </tr>
    <tr>
      <th>basementarea_medi</th>
      <td>2658</td>
      <td>57.40</td>
    </tr>
    <tr>
      <th>basementarea_mode</th>
      <td>2658</td>
      <td>57.40</td>
    </tr>
    <tr>
      <th>ext_source_1</th>
      <td>2606</td>
      <td>56.27</td>
    </tr>
    <tr>
      <th>nonlivingarea_medi</th>
      <td>2481</td>
      <td>53.57</td>
    </tr>
    <tr>
      <th>nonlivingarea_mode</th>
      <td>2480</td>
      <td>53.55</td>
    </tr>
    <tr>
      <th>nonlivingarea_avg</th>
      <td>2480</td>
      <td>53.55</td>
    </tr>
    <tr>
      <th>elevators_mode</th>
      <td>2407</td>
      <td>51.98</td>
    </tr>
    <tr>
      <th>elevators_medi</th>
      <td>2407</td>
      <td>51.98</td>
    </tr>
    <tr>
      <th>elevators_avg</th>
      <td>2407</td>
      <td>51.98</td>
    </tr>
    <tr>
      <th>apartments_avg</th>
      <td>2303</td>
      <td>49.73</td>
    </tr>
    <tr>
      <th>apartments_medi</th>
      <td>2303</td>
      <td>49.73</td>
    </tr>
    <tr>
      <th>apartments_mode</th>
      <td>2303</td>
      <td>49.73</td>
    </tr>
    <tr>
      <th>wallsmaterial_mode</th>
      <td>2299</td>
      <td>49.64</td>
    </tr>
    <tr>
      <th>livingarea_medi</th>
      <td>2268</td>
      <td>48.97</td>
    </tr>
    <tr>
      <th>livingarea_avg</th>
      <td>2267</td>
      <td>48.95</td>
    </tr>
    <tr>
      <th>livingarea_mode</th>
      <td>2267</td>
      <td>48.95</td>
    </tr>
    <tr>
      <th>entrances_avg</th>
      <td>2259</td>
      <td>48.78</td>
    </tr>
    <tr>
      <th>entrances_mode</th>
      <td>2259</td>
      <td>48.78</td>
    </tr>
    <tr>
      <th>entrances_medi</th>
      <td>2259</td>
      <td>48.78</td>
    </tr>
    <tr>
      <th>housetype_mode</th>
      <td>2257</td>
      <td>48.74</td>
    </tr>
    <tr>
      <th>floorsmax_avg</th>
      <td>2234</td>
      <td>48.24</td>
    </tr>
    <tr>
      <th>floorsmax_mode</th>
      <td>2234</td>
      <td>48.24</td>
    </tr>
    <tr>
      <th>floorsmax_medi</th>
      <td>2234</td>
      <td>48.24</td>
    </tr>
    <tr>
      <th>years_beginexpluatation_mode</th>
      <td>2208</td>
      <td>47.68</td>
    </tr>
    <tr>
      <th>years_beginexpluatation_medi</th>
      <td>2208</td>
      <td>47.68</td>
    </tr>
    <tr>
      <th>years_beginexpluatation_avg</th>
      <td>2208</td>
      <td>47.68</td>
    </tr>
    <tr>
      <th>totalarea_mode</th>
      <td>2177</td>
      <td>47.01</td>
    </tr>
    <tr>
      <th>emergencystate_mode</th>
      <td>2133</td>
      <td>46.06</td>
    </tr>
    <tr>
      <th>occupation_type</th>
      <td>1436</td>
      <td>31.01</td>
    </tr>
    <tr>
      <th>ext_source_3</th>
      <td>895</td>
      <td>19.33</td>
    </tr>
    <tr>
      <th>amt_req_credit_bureau_week</th>
      <td>616</td>
      <td>13.30</td>
    </tr>
    <tr>
      <th>amt_req_credit_bureau_hour</th>
      <td>616</td>
      <td>13.30</td>
    </tr>
    <tr>
      <th>amt_req_credit_bureau_year</th>
      <td>616</td>
      <td>13.30</td>
    </tr>
    <tr>
      <th>amt_req_credit_bureau_qrt</th>
      <td>616</td>
      <td>13.30</td>
    </tr>
    <tr>
      <th>amt_req_credit_bureau_day</th>
      <td>616</td>
      <td>13.30</td>
    </tr>
    <tr>
      <th>amt_req_credit_bureau_mon</th>
      <td>616</td>
      <td>13.30</td>
    </tr>
    <tr>
      <th>def_30_cnt_social_circle</th>
      <td>21</td>
      <td>0.45</td>
    </tr>
    <tr>
      <th>def_60_cnt_social_circle</th>
      <td>21</td>
      <td>0.45</td>
    </tr>
    <tr>
      <th>obs_30_cnt_social_circle</th>
      <td>21</td>
      <td>0.45</td>
    </tr>
    <tr>
      <th>obs_60_cnt_social_circle</th>
      <td>21</td>
      <td>0.45</td>
    </tr>
    <tr>
      <th>name_type_suite</th>
      <td>20</td>
      <td>0.43</td>
    </tr>
    <tr>
      <th>ext_source_2</th>
      <td>14</td>
      <td>0.30</td>
    </tr>
    <tr>
      <th>flag_document_13</th>
      <td>1</td>
      <td>0.02</td>
    </tr>
    <tr>
      <th>flag_document_21</th>
      <td>1</td>
      <td>0.02</td>
    </tr>
    <tr>
      <th>flag_document_20</th>
      <td>1</td>
      <td>0.02</td>
    </tr>
    <tr>
      <th>flag_document_19</th>
      <td>1</td>
      <td>0.02</td>
    </tr>
    <tr>
      <th>flag_document_18</th>
      <td>1</td>
      <td>0.02</td>
    </tr>
    <tr>
      <th>flag_document_17</th>
      <td>1</td>
      <td>0.02</td>
    </tr>
    <tr>
      <th>flag_document_16</th>
      <td>1</td>
      <td>0.02</td>
    </tr>
    <tr>
      <th>flag_document_15</th>
      <td>1</td>
      <td>0.02</td>
    </tr>
    <tr>
      <th>flag_document_14</th>
      <td>1</td>
      <td>0.02</td>
    </tr>
    <tr>
      <th>flag_document_11</th>
      <td>1</td>
      <td>0.02</td>
    </tr>
    <tr>
      <th>flag_document_12</th>
      <td>1</td>
      <td>0.02</td>
    </tr>
    <tr>
      <th>flag_document_10</th>
      <td>1</td>
      <td>0.02</td>
    </tr>
    <tr>
      <th>flag_document_8</th>
      <td>1</td>
      <td>0.02</td>
    </tr>
    <tr>
      <th>flag_document_7</th>
      <td>1</td>
      <td>0.02</td>
    </tr>
    <tr>
      <th>flag_document_6</th>
      <td>1</td>
      <td>0.02</td>
    </tr>
    <tr>
      <th>flag_document_5</th>
      <td>1</td>
      <td>0.02</td>
    </tr>
    <tr>
      <th>flag_document_4</th>
      <td>1</td>
      <td>0.02</td>
    </tr>
    <tr>
      <th>flag_document_3</th>
      <td>1</td>
      <td>0.02</td>
    </tr>
    <tr>
      <th>flag_document_2</th>
      <td>1</td>
      <td>0.02</td>
    </tr>
    <tr>
      <th>days_last_phone_change</th>
      <td>1</td>
      <td>0.02</td>
    </tr>
    <tr>
      <th>flag_document_9</th>
      <td>1</td>
      <td>0.02</td>
    </tr>
    <tr>
      <th>sk_id_curr</th>
      <td>0</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>name_contract_type</th>
      <td>0</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>days_id_publish</th>
      <td>0</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>days_employed</th>
      <td>0</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>days_birth</th>
      <td>0</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>region_population_relative</th>
      <td>0</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>name_housing_type</th>
      <td>0</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>name_family_status</th>
      <td>0</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>name_education_type</th>
      <td>0</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>name_income_type</th>
      <td>0</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>amt_goods_price</th>
      <td>0</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>amt_annuity</th>
      <td>0</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>amt_credit</th>
      <td>0</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>amt_income_total</th>
      <td>0</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>cnt_children</th>
      <td>0</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>flag_own_realty</th>
      <td>0</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>flag_own_car</th>
      <td>0</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>code_gender</th>
      <td>0</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>days_registration</th>
      <td>0</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>flag_mobil</th>
      <td>0</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>organization_type</th>
      <td>0</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>flag_emp_phone</th>
      <td>0</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>live_city_not_work_city</th>
      <td>0</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>reg_city_not_work_city</th>
      <td>0</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>reg_city_not_live_city</th>
      <td>0</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>live_region_not_work_region</th>
      <td>0</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>reg_region_not_work_region</th>
      <td>0</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>reg_region_not_live_region</th>
      <td>0</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>hour_appr_process_start</th>
      <td>0</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>weekday_appr_process_start</th>
      <td>0</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>region_rating_client_w_city</th>
      <td>0</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>region_rating_client</th>
      <td>0</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>cnt_fam_members</th>
      <td>0</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>flag_email</th>
      <td>0</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>flag_phone</th>
      <td>0</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>flag_cont_mobile</th>
      <td>0</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>flag_work_phone</th>
      <td>0</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>target</th>
      <td>0</td>
      <td>0.00</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-6ac61d74-6d05-4a74-a342-04d4595e1b9a')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-6ac61d74-6d05-4a74-a342-04d4595e1b9a button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-6ac61d74-6d05-4a74-a342-04d4595e1b9a');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-e2c26ab6-d654-4415-a919-8763cc3051a8">
  <button class="colab-df-quickchart" onclick="quickchart('df-e2c26ab6-d654-4415-a919-8763cc3051a8')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-e2c26ab6-d654-4415-a919-8763cc3051a8 button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

  <div id="id_fe7010f0-fbc5-43bd-aaf9-d8f9e37baf5b">
    <style>
      .colab-df-generate {
        background-color: #E8F0FE;
        border: none;
        border-radius: 50%;
        cursor: pointer;
        display: none;
        fill: #1967D2;
        height: 32px;
        padding: 0 0 0 0;
        width: 32px;
      }

      .colab-df-generate:hover {
        background-color: #E2EBFA;
        box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
        fill: #174EA6;
      }

      [theme=dark] .colab-df-generate {
        background-color: #3B4455;
        fill: #D2E3FC;
      }

      [theme=dark] .colab-df-generate:hover {
        background-color: #434B5C;
        box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
        filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
        fill: #FFFFFF;
      }
    </style>
    <button class="colab-df-generate" onclick="generateWithVariable('pd_null_columnas')"
            title="Generate code using this dataframe."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M7,19H8.4L18.45,9,17,7.55,7,17.6ZM5,21V16.75L18.45,3.32a2,2,0,0,1,2.83,0l1.4,1.43a1.91,1.91,0,0,1,.58,1.4,1.91,1.91,0,0,1-.58,1.4L9.25,21ZM18.45,9,17,7.55Zm-12,3A5.31,5.31,0,0,0,4.9,8.1,5.31,5.31,0,0,0,1,6.5,5.31,5.31,0,0,0,4.9,4.9,5.31,5.31,0,0,0,6.5,1,5.31,5.31,0,0,0,8.1,4.9,5.31,5.31,0,0,0,12,6.5,5.46,5.46,0,0,0,6.5,12Z"/>
  </svg>
    </button>
    <script>
      (() => {
      const buttonEl =
        document.querySelector('#id_fe7010f0-fbc5-43bd-aaf9-d8f9e37baf5b button.colab-df-generate');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      buttonEl.onclick = () => {
        google.colab.notebook.generateWithVariable('pd_null_columnas');
      }
      })();
    </script>
  </div>

    </div>
  </div>

</div>
</div>
<div class="cell code" data-execution_count="159"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:206}"
id="C9g70BgPn098" data-outputId="c50a0776-0aed-4bc6-d939-b62458c1f6ee">
<div class="sourceCode" id="cb19"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>pd_null_filas.head()</span></code></pre></div>
<div class="output execute_result" data-execution_count="159">

  <div id="df-547b198f-03b9-4068-84bd-8b7e9a1eaf30" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>nulos_filas</th>
      <th>porcentaje (%)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>3498</th>
      <td>59</td>
      <td>48.36</td>
    </tr>
    <tr>
      <th>3718</th>
      <td>58</td>
      <td>47.54</td>
    </tr>
    <tr>
      <th>3525</th>
      <td>58</td>
      <td>47.54</td>
    </tr>
    <tr>
      <th>1095</th>
      <td>57</td>
      <td>46.72</td>
    </tr>
    <tr>
      <th>2036</th>
      <td>57</td>
      <td>46.72</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-547b198f-03b9-4068-84bd-8b7e9a1eaf30')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-547b198f-03b9-4068-84bd-8b7e9a1eaf30 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-547b198f-03b9-4068-84bd-8b7e9a1eaf30');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-fdaf9112-4952-49d5-b49c-17f47c59336e">
  <button class="colab-df-quickchart" onclick="quickchart('df-fdaf9112-4952-49d5-b49c-17f47c59336e')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-fdaf9112-4952-49d5-b49c-17f47c59336e button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div>

</div>
</div>
<section id="distribución-del-resto-de-variables" class="cell markdown"
id="08BCcipuPQ77">
<h2><strong>Distribución del resto de variables</strong></h2>
</section>
<div class="cell code" data-execution_count="160"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:1000}"
data-collapsed="true" id="mSCg5616KD27"
data-outputId="5ea8bb89-4ef8-4fe1-ed20-4502777de071">
<div class="sourceCode" id="cb20"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>warnings.filterwarnings(<span class="st">&#39;ignore&#39;</span>)</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">list</span>(credit_procesado_train.columns):</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (credit_procesado_train[i].dtype <span class="op">==</span> <span class="bu">float</span>) <span class="op">&amp;</span> (i <span class="op">!=</span> <span class="st">&#39;target&#39;</span>):</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>        plot_feature_variable(credit_procesado_train, col_name<span class="op">=</span>i, isContinuous<span class="op">=</span><span class="va">True</span>, target<span class="op">=</span><span class="st">&#39;target&#39;</span>)</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> i <span class="op">!=</span> <span class="st">&#39;target&#39;</span>:</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>        plot_feature_variable(credit_procesado_train, col_name<span class="op">=</span>i, isContinuous<span class="op">=</span><span class="va">False</span>, target<span class="op">=</span><span class="st">&#39;target&#39;</span>)</span></code></pre></div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/8f1bfb456eec3ca43233d5e7a7c8aef0b4ecb1b5.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/ae0482ae4a1669d8596a3fd982e4cac1a7c76193.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/ed4e2a9e07c7e2822204f1381f97ccf66cf4328c.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/402c91e0b6642b6c53e79fd475558c35ac42f40d.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/4213c8c42f562bcb6bb3d75a41a5f81b0eecb43b.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/1a3181d2af58c1f619a55b99267228e837f35d3d.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/d1f8fd5bc250b9ff9bf6cf4df1e29c5852f310cf.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/5bfce52c742280ef2c2cb603b0f349ddab108e48.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/fc85b4db0aec93062a34c74227e9fc350d6f1d50.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/c21d94c64f593d2757e9173ab9737413a62f83d1.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/71673abe1a17912ae1014276e93b334fd1895fd9.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/205454a0cefc69ccf9da0954b0b492c7c9c4525f.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/751fe26d3d1e18939f510c55a62b74ad90b0e09e.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/f6a8ebd94aa7a4709ef822d27eee09598e5ecd22.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/ff1c90a3959fcd9ed96ab84dfdd141c75e34a07a.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/8b0e7026742c5fb07518911f736b517ccfab2d2b.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/8c0d3b97b026420e8f95781f32f733c5e2bf444b.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/98175c6211c49cdce70ca5a8f4a7358e40a86105.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/6f6828ec120fada39b1512bd18e1631150dea23c.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/8270e04d20592711adc02be02b76f0af1badb1fe.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/c7efeaa23ce772c19b915145aa168157dbfaa3b9.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/9566ec52f239e0c9d34dc58d5e17b467e8e227b2.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/9c0c028761e596dd60cec9816c49e9959c893f3c.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/9d13aaf01514bf943f866cea043ebc7d833644d0.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/405e40cc61c81f5fa52cf5bdcc14e0cf53f0f6f0.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/bef3f8845916c4ca33f6bdbd73947301b1270957.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/dd67969206860849b858309fb9fbffc32bde9587.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/d486242fc70172722eedb90654f8b6e96e8e1e80.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/0502a43ccff4ee46d5a91a1e56d8619c814cf48d.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/7d060771b22e427437403c2137f727078fb5a6e0.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/94cfa6b075fc153256496380b03d47e32aba0acd.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/2015b728e07f96c0ab38ad8231ea7d77e8c23492.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/f0725c93c909517a61870b05fb56928d0d621bcf.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/11b9a89608442f28a75a04f13688bd46421b42fa.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/a92b5da4a9185cf438b28b786ee0b7fe58ae1824.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/21a4c7719d56ed070a1fb5373c1634772376da25.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/0fed396a15c632f597814b986a4ec5f3b2b50812.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/6cb2279062df8233e43e34a4000d7ee6325916bb.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/3030311ccbaf991f3dcbc9ac146a27fa3a8ea127.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/908c5228c4bb80ffe88359f9c23563d73145b563.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/01c726d4a01bb6407742e80f4404c155ad24d6c4.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/642e6b042ac9a4495019da4f021fedd4885f17d7.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/a2bfcd45128d3493468e1a2a19a87af8c62f42aa.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/754725930296305453b818f2b5fccbaa08b29ce5.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/7225b201a52e48ed99379cf5fee1758def01b2ad.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/e5caaa43a1c828ca751c67386fe097d02c1f53df.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/386a90d7878c1f77bd5bb6aedc29b3bbf031dcef.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/1d658c55031fbed183daab6480d4ac2020a6a8b6.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/a6b740b6a8e35e39e371459570831d999ff10b19.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/a7bcffbba4e1c51d803aa24b1fb139b8160f0a01.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/8bda6fd9db8810fa393b8d7739f138ffc62d123a.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/7bacd9d61283a23305b5645491d1977dba7fd396.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/d7df36ffe1bcaf5881eba449a4baa08452f69171.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/162909e5009f51b5f6fe8111d41f5e84d90aea62.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/3bd8ea4f443052f068b706c89d8ffaa0c092cffe.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/20bcf3eeb2d1b2950b40c94d2374c1042fdf0caa.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/846f35dbc3c0c6b7cdc320f54fc716fb6ab80606.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/49efc50e7726d5688717fc529fdc5499061780c0.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/881fe171f16113d406769f27fc86387d9e8576dc.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/3fd5a8db7d3961fece7902a40c24f0dba2d54230.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/8b1c55e6dc9b17a51cabdec1f1bb17cfe5ad09f2.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/86e850b2d6bd48fc66ef5cb935acd8ccb0d40311.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/8b6e6a14570604bd37c9f0d94fb67380d6cb4c6f.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/2946cbfde191bc11f8f678ca197d96f2f345c805.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/37674216d4ade57a6969ce6beaa696770a422ec3.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/40e46d5ecc6f52c7a4e6c4c96fdfff13f5192026.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/473c801799f7a64b0538f2b0e9cfaeab4cff1d89.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/b123070a94a6b03eb596ad1c91f182131ec81183.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/a7279460a4e7d55a426e35cccbb980bfc2bf807b.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/9f4b8da8a8120b5f6568d0ef633fed61c9a84624.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/fd749901f2c671e05e53712c024b4308f72e737f.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/6d0e5b1b7258cb6261f8abc16fd1106f87ccafbe.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/3699bf11f7a73339a9e3d1ebaa77be2d9ba3ede4.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/cacf841a49d4dcbe1a529a44c0d775c3f51daec0.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/80f85520a7d12918cadec30c387b28d6b7ae8595.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/e63d6b8bcc338f51ff729a5c5017695fa59f9a54.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/abe17596fe609c15e03ef157cccb570c5f4e2101.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/6a526c22f1eb661cb488125a978587424d834f85.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/aa431d6ebab365510cc762ee21ce35720333f26b.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/83f46c90013b5716f9c60808ecc9882ceca0f11a.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/d152a48192c5898b6cef876ecf18626d61c68270.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/c15f5beed868e89d7f934baa3b614b9ae2eab3ca.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/d2850075060903bdb2c80103a8d26e59e3ff8184.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/013eeed2ee3e66770725a0e2e77bc5a28a1b94a6.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/31cf7c514a03997904c5fa3df3f0cf335ac5fb2b.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/a936500a0cc4530dbcf39cbf1b1ac618676a9a62.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/2a3ec742b0e9924dd1b0abb423995cbc938a0bda.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/77752f85509dd4ff77cebd96a387ab098e2f908b.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/dcfaf38ab00e61352d70ba48d6f535439e347a4d.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/c6496a68e9dec61cd23b1616c70862ed8d3608bb.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/88ad9981dd4aa0d8f326c6f62d20e80891ee8c4e.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/fad26af18805517500f4897425ea220d309ff19b.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/b6ebdabef5973b98d43009c5a8133a4d1567be43.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/19e3141a835bc6ebefd79b50e8096abe407eaebf.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/06f5aeef2bcec7638b4e2044aa9f601eaa04be25.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/1f4ec96cc097243baa6626940bd62591104c3756.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/4b62395a1909f7195f5f8a05c4d68a364ee1a138.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/a9c50e7460f6aeee9ba023a117a6a5c79cc6c3ca.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/ca35c3d550519601a9bb8db218d3166ef8f22f85.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/455fdaaf23e1246fffe41e49ecb52504df02d0ef.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/fa4d8a6bb8acbba7cd017b3278741fc9234982e3.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/bb38f8b30ea71eb1c7854129ef77101d8bce9c01.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/5aff27adab4305cd48be7acacddc03c2f8648f88.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/845f8d008cefca1f92e9218fb96b6e6c02d96479.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/920293f55bad26a34ab1ff95f76af93d3a173b7c.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/6ef91751cd2300e19e4f57af6ea8c615e7d7baa7.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/ef6fb42b99eff7a9e04236a84ba0832e57d4214e.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/c3832d52a8df329c8b5d98fca952683a6f494ab4.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/ce7ba88b6addc9e32dcb5cd23c74a50862985d57.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/59aeb13db5edfde1f4a9c87667d4aed3029007f7.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/6f5599134984ad2f8374a9fcbc18cd63d8bcd98b.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/38b28bc27b2c09ea4278480ef8c871a8e4eebe2f.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/83eebc401edc18b01ff1d9fec5a420edc8bcae86.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/7798c81b90caea5ce95663696e0d45273baf26af.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/7368fe24c466820fa29d8d4f6ff6afcc1e3ab74d.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/2af0e187c7ba63eb2d6f4b4ba65e216598093428.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/eaad0a526adc6c30fc88ab6607f721f03f440e5f.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/1fb678944e3e2cf06a3268a771cb2a14b1c208a6.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/7bf95d258561f957c7301841ee7bf2434784d58c.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/e0d4f83ef0973ca012ccf6e19a13b90ad141b8a3.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/34f225931db3495b7c45fcd2725cbc84e81e4a6f.png" /></p>
</div>
</div>
<div class="cell markdown" id="LfmFnr1FsnsY">
<p>Este código está diseñado para visualizar variables dentro de un
conjunto de datos, tanto continuas como categóricas, y nos permite
explorar la relación de estas variables con una variable objetivo
<code>target</code>.</p>
<p>El código se ejecuta iterando sobre todas las columnas del conjunto
de datos. Si la columna es continua y no es la variable objetivo
<code>target</code>, se llama a la función plot_feature con
isContinuous=True. Si la columna es categórica (o si no es continua), se
llama a la misma función con isContinuous=False.</p>
<p>Este código nos es útil para la exploración y visualización de los
datos, permitiendonos hacer un análisis preliminar de las variables
continuas y categóricas.</p>
<p>Los gráficos generados nos ayudan a comprender la distribución de los
datos y la relación de cada variable con la variable objetivo, por
ejemplo, la primera Gráfica: <code>SK_ID_CURR</code> , nos muestra la
distribución de la variable <code>SK_ID_CURR</code>, que parece ser un
identificador único de cada cliente, junto con un gráfico de caja
(boxplot) que compara la distribución de esta variable en relación con
la variable objetivo <code>target</code>.</p>
<p>En conclusion, este codigo nos ha permitido visualizar la
distribución de una variable de identificación, como
<code>SK_ID_CURR</code>, para asegurarnos de que no haya errores
evidentes en los datos (como valores faltantes o atípicos), y a parte,
confirmar que la variable identificadora no está relacionada con el
comportamiento de la variable objetivo <code>target</code>, lo que
indica que no es relevante para el análisis predictivo.</p>
</div>
<section id="tratamiento-de-las-variables-continuas"
class="cell markdown" id="bSzSJ290RAch">
<h2><strong>Tratamiento de las variables continuas</strong></h2>
<p>A continuación, se tratan los valores missing, las correlaciones de
las vairbales continuas y los outlier</p>
</section>
<div class="cell code" data-execution_count="161"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}"
data-collapsed="true" id="2XkuMNaGRH66"
data-outputId="ffe3ebc0-e963-442f-acee-dee79e556320">
<div class="sourceCode" id="cb21"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>list_var_continuous</span></code></pre></div>
<div class="output execute_result" data-execution_count="161">
<pre><code>[&#39;sk_id_curr&#39;,
 &#39;amt_income_total&#39;,
 &#39;amt_credit&#39;,
 &#39;amt_annuity&#39;,
 &#39;amt_goods_price&#39;,
 &#39;region_population_relative&#39;,
 &#39;days_birth&#39;,
 &#39;days_employed&#39;,
 &#39;days_registration&#39;,
 &#39;days_id_publish&#39;,
 &#39;ext_source_1&#39;,
 &#39;ext_source_2&#39;,
 &#39;ext_source_3&#39;,
 &#39;apartments_avg&#39;,
 &#39;basementarea_avg&#39;,
 &#39;years_beginexpluatation_avg&#39;,
 &#39;years_build_avg&#39;,
 &#39;commonarea_avg&#39;,
 &#39;elevators_avg&#39;,
 &#39;entrances_avg&#39;,
 &#39;floorsmax_avg&#39;,
 &#39;floorsmin_avg&#39;,
 &#39;landarea_avg&#39;,
 &#39;livingapartments_avg&#39;,
 &#39;livingarea_avg&#39;,
 &#39;nonlivingapartments_avg&#39;,
 &#39;nonlivingarea_avg&#39;,
 &#39;apartments_mode&#39;,
 &#39;basementarea_mode&#39;,
 &#39;years_beginexpluatation_mode&#39;,
 &#39;years_build_mode&#39;,
 &#39;commonarea_mode&#39;,
 &#39;landarea_mode&#39;,
 &#39;livingapartments_mode&#39;,
 &#39;livingarea_mode&#39;,
 &#39;nonlivingarea_mode&#39;,
 &#39;apartments_medi&#39;,
 &#39;basementarea_medi&#39;,
 &#39;years_beginexpluatation_medi&#39;,
 &#39;years_build_medi&#39;,
 &#39;commonarea_medi&#39;,
 &#39;landarea_medi&#39;,
 &#39;livingapartments_medi&#39;,
 &#39;livingarea_medi&#39;,
 &#39;nonlivingapartments_medi&#39;,
 &#39;nonlivingarea_medi&#39;,
 &#39;totalarea_mode&#39;,
 &#39;days_last_phone_change&#39;,
 &#39;amt_req_credit_bureau_hour&#39;,
 &#39;amt_req_credit_bureau_day&#39;,
 &#39;amt_req_credit_bureau_week&#39;,
 &#39;amt_req_credit_bureau_mon&#39;,
 &#39;amt_req_credit_bureau_qrt&#39;,
 &#39;amt_req_credit_bureau_year&#39;,
 &#39;obs_30_cnt_social_circle&#39;,
 &#39;def_30_cnt_social_circle&#39;,
 &#39;obs_60_cnt_social_circle&#39;,
 &#39;def_60_cnt_social_circle&#39;,
 &#39;elevators_mode&#39;,
 &#39;entrances_mode&#39;,
 &#39;floorsmax_mode&#39;,
 &#39;floorsmin_mode&#39;,
 &#39;elevators_medi&#39;,
 &#39;entrances_medi&#39;,
 &#39;floorsmax_medi&#39;,
 &#39;floorsmin_medi&#39;,
 &#39;hour_appr_process_start&#39;,
 &#39;cnt_fam_members&#39;,
 &#39;cnt_children&#39;,
 &#39;nonlivingapartments_mode&#39;,
 &#39;own_car_age&#39;]</code></pre>
</div>
</div>
<section id="tratamiento-de-outliers" class="cell markdown"
id="DGNZqA7FRMBr">
<h3><strong>Tratamiento de outliers</strong></h3>
</section>
<div class="cell code" data-execution_count="162"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:1000}"
data-collapsed="true" id="m4AVChEhNeeL"
data-outputId="86fb80dd-0d4b-4608-dc82-671afe98a0d0">
<div class="sourceCode" id="cb23"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>outlier_results <span class="op">=</span> analyze_outliers(credit_procesado_train, list_var_continuous, target<span class="op">=</span><span class="st">&#39;target&#39;</span>, multiplier<span class="op">=</span><span class="dv">3</span>)</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(outlier_results)</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>outlier_results.to_csv(<span class="st">&quot;outlier_analysis_results.csv&quot;</span>, index<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> var <span class="kw">in</span> list_var_continuous:</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>    plt.figure(figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">5</span>))</span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>    sns.histplot(credit_procesado_train[var], kde<span class="op">=</span><span class="va">True</span>, color<span class="op">=</span><span class="st">&#39;skyblue&#39;</span>)</span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>    plt.title(<span class="ss">f&#39;Distribución de </span><span class="sc">{</span>var<span class="sc">}</span><span class="ss">&#39;</span>)</span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>    plt.xlabel(var)</span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>    plt.ylabel(<span class="st">&#39;Frecuencia&#39;</span>)</span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a>    plt.show()</span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Ahora podemos analizar visualmente las distribuciones de las variables continuas</span></span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a><span class="co"># y los outliers identificados para decidir si los eliminamos o los tratamos de alguna otra manera.</span></span></code></pre></div>
<div class="output stream stdout">
<pre><code>                        Variable  Outlier Count
0                     sk_id_curr              0
1               amt_income_total             39
2                     amt_credit              4
3                    amt_annuity             16
4                amt_goods_price             19
5     region_population_relative              0
6                     days_birth              0
7                  days_employed            890
8              days_registration              0
9                days_id_publish              0
10                  ext_source_1              0
11                  ext_source_2              0
12                  ext_source_3              0
13                apartments_avg             60
14              basementarea_avg             43
15   years_beginexpluatation_avg             19
16               years_build_avg              6
17                commonarea_avg             59
18                 elevators_avg             43
19                 entrances_avg             13
20                 floorsmax_avg             13
21                 floorsmin_avg              0
22                  landarea_avg             43
23          livingapartments_avg             39
24                livingarea_avg             90
25       nonlivingapartments_avg            122
26             nonlivingarea_avg            137
27               apartments_mode             71
28             basementarea_mode             45
29  years_beginexpluatation_mode             19
30              years_build_mode              6
31               commonarea_mode             58
32                 landarea_mode             43
33         livingapartments_mode             65
34               livingarea_mode             99
35            nonlivingarea_mode            157
36               apartments_medi             61
37             basementarea_medi             43
38  years_beginexpluatation_medi             17
39              years_build_medi              7
40               commonarea_medi             62
41                 landarea_medi             44
42         livingapartments_medi             40
43               livingarea_medi             92
44      nonlivingapartments_medi            118
45            nonlivingarea_medi            142
46                totalarea_mode             74
47        days_last_phone_change              0
48    amt_req_credit_bureau_hour             34
49     amt_req_credit_bureau_day             31
50    amt_req_credit_bureau_week            135
51     amt_req_credit_bureau_mon            658
52     amt_req_credit_bureau_qrt            813
53    amt_req_credit_bureau_year              1
54      obs_30_cnt_social_circle             89
55      def_30_cnt_social_circle            515
56      obs_60_cnt_social_circle             87
57      def_60_cnt_social_circle            383
58                elevators_mode            111
59                entrances_mode             13
60                floorsmax_mode             13
61                floorsmin_mode              0
62                elevators_medi             43
63                entrances_medi             13
64                floorsmax_medi             13
65                floorsmin_medi              0
66       hour_appr_process_start              0
67               cnt_fam_members              1
68                  cnt_children              1
69      nonlivingapartments_mode            109
70                   own_car_age             53
</code></pre>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/ecaf4c97fc891304ad31987c466106aefecb3d58.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/7e5b8b5fa369d4c14404e80ce4f0f5136076905f.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/b3bc0d4877242ca0474ac283f8b3133760bd6ea7.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/48442d76d1f51302154bf05bc7eb24ac7058edd4.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/1a55e670d2a143e65d4b4f87e05b39bdd3fa44dc.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/e01bb2e27f25ead64f50f9a0de126512210398b3.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/01235fe3ec572c9bc788efe5c3490c21b312cadd.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/72b8b2002f67aa1c3889489fe58a1ff686b743e9.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/9966cc15c7c8c05958494b13c5edb29f5c420edb.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/3fc1c254e08feef1b57990967acf031b665d81fd.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/6e510f51021fbeb06b6de7de7604accaeac068a3.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/99d263ed5fce5366a35eb6f485e0e0082656c28b.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/020a24ba0fb7ee3c134a227d568bd7c9196b74c0.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/911c89b86a3cf5b75556d58b0109b0cb785b52b2.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/7a71b3b01a3098c88e74f80bef1f1c763b5a4edd.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/1da4abfac45ec5f02460568067d9182bca115af1.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/3592611710fdfc0c1301d3dd551299985848a5c2.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/83fae9b225c960f8a414f3c2e3a36c123d6f9c43.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/9f61b236525024e2ce69d767082b8b70819b84a8.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/1bb2ebe5b5fedad46c221322974d6cd0bf66a577.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/0a36e92ea12bbf4f7e73a0fed2d3c073db394e36.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/a22f43d106ec900b38606eaceb58b3debecc03f9.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/9db41a9bfcc8b0656ed964960ec0f2545a2349fa.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/23e40c99234d61c262c1be27fcf15079b88b0895.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/f61c8db7232308667adb3ccfe11d52b4ae3d9897.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/c9cd9c82bd3f70467f50f3ca3e32d6ec74f5a403.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/252c486f218c00ed54afd9d1f9959b044537a45d.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/68a1f7caafb133d8c0ddafce2af6b7a6f40b5af7.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/1f81803c20b902419d68466234d4a749f571b3b8.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/94a86a411d79d995c8a0a5b58f0174fd39c8dc9a.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/f95de5f495eea0a028f61d34ed72d7a3095c1963.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/f9aaab45d1d5823e9e0e1c5e9e02d88f0bdd6b09.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/e1d89e7722634817c5ddfc3970656d0407f9a9d0.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/29c193d16c326299f2117d456e0ab6ed7f10da17.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/8698d837c42d31b9c577a321d8f00bfc17e6b881.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/a29fcfd7fe43a8ae787b1e485b281ce551bff455.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/5b2a2cc9a9e29a2499767d760a9c442e1f92da1d.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/4242d630eee0304f201faca4705dfb4beb7f7ac5.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/0e7ae8c6398e031a049ec0646dcd28100a8e928b.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/d2b6965286241cff5b035c7138c6ddfd02d528ee.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/b9dfb999906cb9364d9ac17cd34eb4ccd5a5fe69.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/0943bb5ef9a9652e8583d0a543869b1729badafe.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/e53733c80b838c69497d05b8d1ee53eef1fc89a4.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/dd3be85da0d8e8fa6118d80890787b88d1065f6a.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/9942f9d1d983dfa9dbe577f9b2bab5e6113635d3.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/e0d44eb4cbec6c344e545bc6583c082d7e178443.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/d4ca9f35e336c252d6fc8e0e5d1c84d071a7913b.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/e97f1a286b569fa3e66ed8df929cc1a5fe7fd7bc.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/355e066c2750eec34a6b2620430f78b6787f1901.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/2d7f008567472297dff384f4114f76faa71df0a1.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/4d8ccb55156694bd4271abf3b9b44825c5e1da86.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/af47dca743dc7f7b686bcd2c1771f7f76ad3c72c.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/24f4a53b38babd4a57104ecbe9f8c6458a4c8758.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/87670f3841cb25ea89945a8b3a33dbb66a118ef4.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/92d3e76efced3c02c11d30315d6eb05c8d696f23.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/e9692dab0cdfad5b35f3ec8f681dfb536b0791cd.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/f5720af31fa2727b744ed2352fb92df83e119ac5.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/d5e0488b18016c31c387b3b45b75fed5a7acc147.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/fecb6396b4cf29bb9256b20e4e4edec084eca2c6.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/01e5fca440aa878fedc6af6dfb05f81adcad9fb1.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/3ea5a83b071102811ec3a0c65bebb264d329c99c.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/0d5868f029e2b6770531bf2532915fd62f2c6133.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/d43251a8598d9c45cc7d616ff9aa55b30b9efe2a.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/f977f86d18a1bf1d26d00f33070c6f82a1a0e98c.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/35bcbde1493d43218276567eb6dbab42276094b5.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/8e6eaa5a7839c30dafa6e529cb5e10ba598d2dbd.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/3a632785085302059049696a80b933cc47817958.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/ce3c8a227ee59eaccdf8885df2ab84596df06d3a.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/365ce22f8b053bf36646cb57cb67f91b6845cc3b.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/a6cd5d90e049b0cfb1f2c7614dcbc67f122fa127.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/78fe421941139396e4d04b58732a1912d06de17f.png" /></p>
</div>
</div>
<div class="cell code" data-execution_count="163"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}"
data-collapsed="true" id="eBc0aUA6RJ1D"
data-outputId="f6a6331d-1f0a-4e89-bc30-731df30dfed0">
<div class="sourceCode" id="cb25"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>df_treated_median <span class="op">=</span> treat_outliers(credit_procesado_train.copy(), list_var_continuous, method<span class="op">=</span><span class="st">&quot;median&quot;</span>)</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>df_treated_mean <span class="op">=</span> treat_outliers(credit_procesado_train.copy(), list_var_continuous, method<span class="op">=</span><span class="st">&quot;mean&quot;</span>)</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;Datos tratados con la mediana:&quot;</span>)</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df_treated_median.head())</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;Datos tratados con la media:&quot;</span>)</span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df_treated_mean.head())</span></code></pre></div>
<div class="output stream stdout">
<pre><code>Datos tratados con la mediana:
      sk_id_curr name_contract_type code_gender flag_own_car flag_own_realty  \
2479    102892.0         Cash loans           F            N               Y   
1807    102115.0         Cash loans           M            Y               Y   
3438    104013.0         Cash loans           F            N               Y   
4332    105066.0         Cash loans           M            Y               Y   
3811    104453.0    Revolving loans           F            N               Y   

      cnt_children  amt_income_total  amt_credit  amt_annuity  \
2479           0.0          157500.0    834048.0      25285.5   
1807           0.0          247500.0    450000.0      42642.0   
3438           0.0          117000.0    320382.0      14242.5   
4332           0.0          112500.0    341280.0      27094.5   
3811           1.0          157500.0    360000.0      18000.0   

      amt_goods_price name_type_suite name_income_type  \
2479         720000.0   Unaccompanied        Pensioner   
1807         450000.0   Unaccompanied          Working   
3438         229500.0   Unaccompanied          Working   
4332         270000.0   Unaccompanied          Working   
3811         360000.0          Family          Working   

                name_education_type name_family_status  name_housing_type  \
2479  Secondary / secondary special            Married  House / apartment   
1807  Secondary / secondary special            Married  House / apartment   
3438  Secondary / secondary special            Married  House / apartment   
4332  Secondary / secondary special            Married  House / apartment   
3811  Secondary / secondary special            Married  House / apartment   

      region_population_relative  days_birth  days_employed  \
2479                    0.030755    -20814.0        -1198.0   
1807                    0.010006    -15209.0        -7685.0   
3438                    0.006008    -15771.0        -8861.0   
4332                    0.007330    -11819.0        -1172.0   
3811                    0.007330    -18426.0        -1978.0   

      days_registration  days_id_publish  own_car_age flag_mobil  \
2479           -11411.0          -4209.0          NaN          1   
1807            -7427.0           -159.0          6.0          1   
3438            -3644.0          -4463.0          NaN          1   
4332            -3493.0          -3543.0         37.0          1   
3811            -3892.0          -1931.0          NaN          1   

     flag_emp_phone flag_work_phone flag_cont_mobile flag_phone flag_email  \
2479              0               0                1          0          0   
1807              1               1                1          1          0   
3438              1               0                1          0          0   
4332              1               0                1          0          1   
3811              1               0                1          0          0   

     occupation_type  cnt_fam_members region_rating_client  \
2479             NaN              2.0                    2   
1807        Laborers              2.0                    2   
3438  Medicine staff              2.0                    2   
4332  Security staff              2.0                    2   
3811   Realty agents              3.0                    2   

     region_rating_client_w_city weekday_appr_process_start  \
2479                           2                          4   
1807                           2                          2   
3438                           2                          1   
4332                           2                          3   
3811                           2                          2   

      hour_appr_process_start reg_region_not_live_region  \
2479                     10.0                          0   
1807                     14.0                          0   
3438                     11.0                          0   
4332                     13.0                          0   
3811                     14.0                          0   

     reg_region_not_work_region live_region_not_work_region  \
2479                          0                           0   
1807                          0                           0   
3438                          0                           0   
4332                          1                           1   
3811                          0                           0   

     reg_city_not_live_city reg_city_not_work_city live_city_not_work_city  \
2479                      0                      0                       0   
1807                      0                      0                       0   
3438                      0                      0                       0   
4332                      0                      0                       0   
3811                      0                      0                       0   

           organization_type  ext_source_1  ext_source_2  ext_source_3  \
2479                     XNA           NaN      0.062492      0.738020   
1807                   Other           NaN      0.644818      0.695622   
3438                Medicine      0.727319      0.610348      0.472253   
4332                Security      0.083639      0.386976      0.102782   
3811  Business Entity Type 3      0.780810      0.707366      0.715103   

      apartments_avg  basementarea_avg  years_beginexpluatation_avg  \
2479             NaN               NaN                          NaN   
1807          0.0773            0.0726                       0.9901   
3438             NaN               NaN                          NaN   
4332             NaN               NaN                          NaN   
3811          0.0082            0.0000                       0.9702   

      years_build_avg  commonarea_avg  elevators_avg  entrances_avg  \
2479              NaN             NaN            NaN            NaN   
1807            0.864          0.0291            0.0         0.1724   
3438              NaN             NaN            NaN            NaN   
4332              NaN             NaN            NaN            NaN   
3811            0.592          0.0011            0.0         0.0345   

      floorsmax_avg  floorsmin_avg  landarea_avg  livingapartments_avg  \
2479            NaN            NaN           NaN                   NaN   
1807         0.1667         0.2083        0.0632                0.0630   
3438            NaN            NaN           NaN                   NaN   
4332            NaN            NaN           NaN                   NaN   
3811         0.0417         0.0833        0.0078                0.0067   

      livingarea_avg  nonlivingapartments_avg  nonlivingarea_avg  \
2479             NaN                      NaN                NaN   
1807          0.0731                      0.0                0.0   
3438             NaN                      NaN                NaN   
4332             NaN                      NaN                NaN   
3811          0.0084                      0.0                0.0   

      apartments_mode  basementarea_mode  years_beginexpluatation_mode  \
2479              NaN                NaN                           NaN   
1807           0.0788             0.0753                        0.9901   
3438              NaN                NaN                           NaN   
4332              NaN                NaN                           NaN   
3811           0.0084             0.0000                        0.9702   

      years_build_mode  commonarea_mode  elevators_mode  entrances_mode  \
2479               NaN              NaN             NaN             NaN   
1807            0.8693           0.0294             0.0          0.1724   
3438               NaN              NaN             NaN             NaN   
4332               NaN              NaN             NaN             NaN   
3811            0.6080           0.0011             0.0          0.0345   

      floorsmax_mode  floorsmin_mode  landarea_mode  livingapartments_mode  \
2479             NaN             NaN            NaN                    NaN   
1807          0.1667          0.2083         0.0647                 0.0689   
3438             NaN             NaN            NaN                    NaN   
4332             NaN             NaN            NaN                    NaN   
3811          0.0417          0.0833         0.0080                 0.0073   

      livingarea_mode  nonlivingapartments_mode  nonlivingarea_mode  \
2479              NaN                       NaN                 NaN   
1807           0.0761                       0.0                 0.0   
3438              NaN                       NaN                 NaN   
4332              NaN                       NaN                 NaN   
3811           0.0087                       0.0                 0.0   

      apartments_medi  basementarea_medi  years_beginexpluatation_medi  \
2479              NaN                NaN                           NaN   
1807           0.0781             0.0726                        0.9901   
3438              NaN                NaN                           NaN   
4332              NaN                NaN                           NaN   
3811           0.0083             0.0000                        0.9702   

      years_build_medi  commonarea_medi  elevators_medi  entrances_medi  \
2479               NaN              NaN             NaN             NaN   
1807            0.8658           0.0293             0.0          0.1724   
3438               NaN              NaN             NaN             NaN   
4332               NaN              NaN             NaN             NaN   
3811            0.5975           0.0011             0.0          0.0345   

      floorsmax_medi  floorsmin_medi  landarea_medi  livingapartments_medi  \
2479             NaN             NaN            NaN                    NaN   
1807          0.1667          0.2083         0.0643                 0.0641   
3438             NaN             NaN            NaN                    NaN   
4332             NaN             NaN            NaN                    NaN   
3811          0.0417          0.0833         0.0080                 0.0068   

      livingarea_medi  nonlivingapartments_medi  nonlivingarea_medi  \
2479              NaN                       NaN                 NaN   
1807           0.0744                       0.0                 0.0   
3438              NaN                       NaN                 NaN   
4332              NaN                       NaN                 NaN   
3811           0.0085                       0.0                 0.0   

     fondkapremont_mode  housetype_mode  totalarea_mode wallsmaterial_mode  \
2479                NaN             NaN             NaN                NaN   
1807   reg oper account  block of flats          0.0734              Panel   
3438                NaN             NaN             NaN                NaN   
4332                NaN             NaN             NaN                NaN   
3811      not specified  block of flats          0.0072             Others   

     emergencystate_mode  obs_30_cnt_social_circle  def_30_cnt_social_circle  \
2479                 NaN                       0.0                       0.0   
1807                  No                       0.0                       0.0   
3438                 NaN                       0.0                       0.0   
4332                 NaN                       0.0                       0.0   
3811                 Yes                       0.0                       0.0   

      obs_60_cnt_social_circle  def_60_cnt_social_circle  \
2479                       0.0                       0.0   
1807                       0.0                       0.0   
3438                       0.0                       0.0   
4332                       0.0                       0.0   
3811                       0.0                       0.0   

      days_last_phone_change flag_document_2 flag_document_3 flag_document_4  \
2479                  -207.0             0.0             0.0             0.0   
1807                     0.0             0.0             0.0             0.0   
3438                  -745.0             0.0             1.0             0.0   
4332                  -243.0             0.0             1.0             0.0   
3811                 -2476.0             0.0             0.0             0.0   

     flag_document_5 flag_document_6 flag_document_7 flag_document_8  \
2479             0.0             1.0             0.0             0.0   
1807             0.0             0.0             0.0             1.0   
3438             0.0             0.0             0.0             0.0   
4332             0.0             0.0             0.0             0.0   
3811             0.0             0.0             0.0             0.0   

     flag_document_9 flag_document_10 flag_document_11 flag_document_12  \
2479             0.0              0.0              0.0              0.0   
1807             0.0              0.0              0.0              0.0   
3438             0.0              0.0              0.0              0.0   
4332             0.0              0.0              0.0              0.0   
3811             0.0              0.0              0.0              0.0   

     flag_document_13 flag_document_14 flag_document_15 flag_document_16  \
2479              0.0              0.0              0.0              0.0   
1807              0.0              0.0              0.0              0.0   
3438              0.0              0.0              0.0              0.0   
4332              0.0              0.0              0.0              0.0   
3811              0.0              0.0              0.0              0.0   

     flag_document_17 flag_document_18 flag_document_19 flag_document_20  \
2479              0.0              0.0              0.0              0.0   
1807              1.0              0.0              0.0              0.0   
3438              0.0              0.0              0.0              0.0   
4332              0.0              0.0              0.0              0.0   
3811              0.0              0.0              0.0              0.0   

     flag_document_21  amt_req_credit_bureau_hour  amt_req_credit_bureau_day  \
2479              0.0                         0.0                        0.0   
1807              0.0                         0.0                        0.0   
3438              0.0                         0.0                        0.0   
4332              0.0                         0.0                        0.0   
3811              0.0                         0.0                        0.0   

      amt_req_credit_bureau_week  amt_req_credit_bureau_mon  \
2479                         0.0                        0.0   
1807                         0.0                        0.0   
3438                         0.0                        0.0   
4332                         0.0                        0.0   
3811                         0.0                        0.0   

      amt_req_credit_bureau_qrt  amt_req_credit_bureau_year target  
2479                        0.0                         0.0      0  
1807                        0.0                         1.0      0  
3438                        0.0                         2.0      0  
4332                        0.0                         6.0      0  
3811                        0.0                         3.0      0  
Datos tratados con la media:
      sk_id_curr name_contract_type code_gender flag_own_car flag_own_realty  \
2479    102892.0         Cash loans           F            N               Y   
1807    102115.0         Cash loans           M            Y               Y   
3438    104013.0         Cash loans           F            N               Y   
4332    105066.0         Cash loans           M            Y               Y   
3811    104453.0    Revolving loans           F            N               Y   

      cnt_children  amt_income_total  amt_credit  amt_annuity  \
2479           0.0          157500.0    834048.0      25285.5   
1807           0.0          247500.0    450000.0      42642.0   
3438           0.0          117000.0    320382.0      14242.5   
4332           0.0          112500.0    341280.0      27094.5   
3811           1.0          157500.0    360000.0      18000.0   

      amt_goods_price name_type_suite name_income_type  \
2479         720000.0   Unaccompanied        Pensioner   
1807         450000.0   Unaccompanied          Working   
3438         229500.0   Unaccompanied          Working   
4332         270000.0   Unaccompanied          Working   
3811         360000.0          Family          Working   

                name_education_type name_family_status  name_housing_type  \
2479  Secondary / secondary special            Married  House / apartment   
1807  Secondary / secondary special            Married  House / apartment   
3438  Secondary / secondary special            Married  House / apartment   
4332  Secondary / secondary special            Married  House / apartment   
3811  Secondary / secondary special            Married  House / apartment   

      region_population_relative  days_birth  days_employed  \
2479                    0.030755    -20814.0   64444.734399   
1807                    0.010006    -15209.0   -7685.000000   
3438                    0.006008    -15771.0   -8861.000000   
4332                    0.007330    -11819.0   -1172.000000   
3811                    0.007330    -18426.0   -1978.000000   

      days_registration  days_id_publish  own_car_age flag_mobil  \
2479           -11411.0          -4209.0          NaN          1   
1807            -7427.0           -159.0          6.0          1   
3438            -3644.0          -4463.0          NaN          1   
4332            -3493.0          -3543.0         37.0          1   
3811            -3892.0          -1931.0          NaN          1   

     flag_emp_phone flag_work_phone flag_cont_mobile flag_phone flag_email  \
2479              0               0                1          0          0   
1807              1               1                1          1          0   
3438              1               0                1          0          0   
4332              1               0                1          0          1   
3811              1               0                1          0          0   

     occupation_type  cnt_fam_members region_rating_client  \
2479             NaN              2.0                    2   
1807        Laborers              2.0                    2   
3438  Medicine staff              2.0                    2   
4332  Security staff              2.0                    2   
3811   Realty agents              3.0                    2   

     region_rating_client_w_city weekday_appr_process_start  \
2479                           2                          4   
1807                           2                          2   
3438                           2                          1   
4332                           2                          3   
3811                           2                          2   

      hour_appr_process_start reg_region_not_live_region  \
2479                     10.0                          0   
1807                     14.0                          0   
3438                     11.0                          0   
4332                     13.0                          0   
3811                     14.0                          0   

     reg_region_not_work_region live_region_not_work_region  \
2479                          0                           0   
1807                          0                           0   
3438                          0                           0   
4332                          1                           1   
3811                          0                           0   

     reg_city_not_live_city reg_city_not_work_city live_city_not_work_city  \
2479                      0                      0                       0   
1807                      0                      0                       0   
3438                      0                      0                       0   
4332                      0                      0                       0   
3811                      0                      0                       0   

           organization_type  ext_source_1  ext_source_2  ext_source_3  \
2479                     XNA           NaN      0.062492      0.738020   
1807                   Other           NaN      0.644818      0.695622   
3438                Medicine      0.727319      0.610348      0.472253   
4332                Security      0.083639      0.386976      0.102782   
3811  Business Entity Type 3      0.780810      0.707366      0.715103   

      apartments_avg  basementarea_avg  years_beginexpluatation_avg  \
2479             NaN               NaN                          NaN   
1807          0.0773            0.0726                       0.9901   
3438             NaN               NaN                          NaN   
4332             NaN               NaN                          NaN   
3811          0.0082            0.0000                       0.9702   

      years_build_avg  commonarea_avg  elevators_avg  entrances_avg  \
2479              NaN             NaN            NaN            NaN   
1807            0.864          0.0291            0.0         0.1724   
3438              NaN             NaN            NaN            NaN   
4332              NaN             NaN            NaN            NaN   
3811            0.592          0.0011            0.0         0.0345   

      floorsmax_avg  floorsmin_avg  landarea_avg  livingapartments_avg  \
2479            NaN            NaN           NaN                   NaN   
1807         0.1667         0.2083        0.0632                0.0630   
3438            NaN            NaN           NaN                   NaN   
4332            NaN            NaN           NaN                   NaN   
3811         0.0417         0.0833        0.0078                0.0067   

      livingarea_avg  nonlivingapartments_avg  nonlivingarea_avg  \
2479             NaN                      NaN                NaN   
1807          0.0731                      0.0                0.0   
3438             NaN                      NaN                NaN   
4332             NaN                      NaN                NaN   
3811          0.0084                      0.0                0.0   

      apartments_mode  basementarea_mode  years_beginexpluatation_mode  \
2479              NaN                NaN                           NaN   
1807           0.0788             0.0753                        0.9901   
3438              NaN                NaN                           NaN   
4332              NaN                NaN                           NaN   
3811           0.0084             0.0000                        0.9702   

      years_build_mode  commonarea_mode  elevators_mode  entrances_mode  \
2479               NaN              NaN             NaN             NaN   
1807            0.8693           0.0294             0.0          0.1724   
3438               NaN              NaN             NaN             NaN   
4332               NaN              NaN             NaN             NaN   
3811            0.6080           0.0011             0.0          0.0345   

      floorsmax_mode  floorsmin_mode  landarea_mode  livingapartments_mode  \
2479             NaN             NaN            NaN                    NaN   
1807          0.1667          0.2083         0.0647                 0.0689   
3438             NaN             NaN            NaN                    NaN   
4332             NaN             NaN            NaN                    NaN   
3811          0.0417          0.0833         0.0080                 0.0073   

      livingarea_mode  nonlivingapartments_mode  nonlivingarea_mode  \
2479              NaN                       NaN                 NaN   
1807           0.0761                       0.0                 0.0   
3438              NaN                       NaN                 NaN   
4332              NaN                       NaN                 NaN   
3811           0.0087                       0.0                 0.0   

      apartments_medi  basementarea_medi  years_beginexpluatation_medi  \
2479              NaN                NaN                           NaN   
1807           0.0781             0.0726                        0.9901   
3438              NaN                NaN                           NaN   
4332              NaN                NaN                           NaN   
3811           0.0083             0.0000                        0.9702   

      years_build_medi  commonarea_medi  elevators_medi  entrances_medi  \
2479               NaN              NaN             NaN             NaN   
1807            0.8658           0.0293             0.0          0.1724   
3438               NaN              NaN             NaN             NaN   
4332               NaN              NaN             NaN             NaN   
3811            0.5975           0.0011             0.0          0.0345   

      floorsmax_medi  floorsmin_medi  landarea_medi  livingapartments_medi  \
2479             NaN             NaN            NaN                    NaN   
1807          0.1667          0.2083         0.0643                 0.0641   
3438             NaN             NaN            NaN                    NaN   
4332             NaN             NaN            NaN                    NaN   
3811          0.0417          0.0833         0.0080                 0.0068   

      livingarea_medi  nonlivingapartments_medi  nonlivingarea_medi  \
2479              NaN                       NaN                 NaN   
1807           0.0744                       0.0                 0.0   
3438              NaN                       NaN                 NaN   
4332              NaN                       NaN                 NaN   
3811           0.0085                       0.0                 0.0   

     fondkapremont_mode  housetype_mode  totalarea_mode wallsmaterial_mode  \
2479                NaN             NaN             NaN                NaN   
1807   reg oper account  block of flats          0.0734              Panel   
3438                NaN             NaN             NaN                NaN   
4332                NaN             NaN             NaN                NaN   
3811      not specified  block of flats          0.0072             Others   

     emergencystate_mode  obs_30_cnt_social_circle  def_30_cnt_social_circle  \
2479                 NaN                  1.380043                  0.144252   
1807                  No                  0.000000                  0.000000   
3438                 NaN                  0.000000                  0.000000   
4332                 NaN                  0.000000                  0.000000   
3811                 Yes                  0.000000                  0.000000   

      obs_60_cnt_social_circle  def_60_cnt_social_circle  \
2479                  1.365944                   0.10282   
1807                  0.000000                   0.00000   
3438                  0.000000                   0.00000   
4332                  0.000000                   0.00000   
3811                  0.000000                   0.00000   

      days_last_phone_change flag_document_2 flag_document_3 flag_document_4  \
2479                  -207.0             0.0             0.0             0.0   
1807                     0.0             0.0             0.0             0.0   
3438                  -745.0             0.0             1.0             0.0   
4332                  -243.0             0.0             1.0             0.0   
3811                 -2476.0             0.0             0.0             0.0   

     flag_document_5 flag_document_6 flag_document_7 flag_document_8  \
2479             0.0             1.0             0.0             0.0   
1807             0.0             0.0             0.0             1.0   
3438             0.0             0.0             0.0             0.0   
4332             0.0             0.0             0.0             0.0   
3811             0.0             0.0             0.0             0.0   

     flag_document_9 flag_document_10 flag_document_11 flag_document_12  \
2479             0.0              0.0              0.0              0.0   
1807             0.0              0.0              0.0              0.0   
3438             0.0              0.0              0.0              0.0   
4332             0.0              0.0              0.0              0.0   
3811             0.0              0.0              0.0              0.0   

     flag_document_13 flag_document_14 flag_document_15 flag_document_16  \
2479              0.0              0.0              0.0              0.0   
1807              0.0              0.0              0.0              0.0   
3438              0.0              0.0              0.0              0.0   
4332              0.0              0.0              0.0              0.0   
3811              0.0              0.0              0.0              0.0   

     flag_document_17 flag_document_18 flag_document_19 flag_document_20  \
2479              0.0              0.0              0.0              0.0   
1807              1.0              0.0              0.0              0.0   
3438              0.0              0.0              0.0              0.0   
4332              0.0              0.0              0.0              0.0   
3811              0.0              0.0              0.0              0.0   

     flag_document_21  amt_req_credit_bureau_hour  amt_req_credit_bureau_day  \
2479              0.0                         0.0                        0.0   
1807              0.0                         0.0                        0.0   
3438              0.0                         0.0                        0.0   
4332              0.0                         0.0                        0.0   
3811              0.0                         0.0                        0.0   

      amt_req_credit_bureau_week  amt_req_credit_bureau_mon  \
2479                         0.0                   0.000000   
1807                         0.0                   0.000000   
3438                         0.0                   0.270486   
4332                         0.0                   0.000000   
3811                         0.0                   0.000000   

      amt_req_credit_bureau_qrt  amt_req_credit_bureau_year target  
2479                        0.0                         0.0      0  
1807                        0.0                         1.0      0  
3438                        0.0                         2.0      0  
4332                        0.0                         6.0      0  
3811                        0.0                         3.0      0  
</code></pre>
</div>
</div>
<div class="cell markdown" id="e0VJYOkwTyuf">
<p>Nuestro analisis comienza con la <strong>identificación de los
outliers</strong> a través de un análisis estadístico utilizando el
rango intercuartílico (IQR). Luego, para visualizar estos outliers y
obtener una mejor comprensión de su distribución, se utilizan
<strong>gráficos de distribución</strong>. Finalmente, una vez
identificados y visualizados, se lleva a cabo un <strong>tratamiento de
outliers</strong>, donde los valores atípicos se reemplazan por la
<strong>mediana</strong> o la <strong>media</strong> según el método
elegido, lo que permite una mejor calidad de los datos antes de
alimentar el modelo predictivo. Este enfoque secuencial y detallado
asegura que los outliers sean manejados adecuadamente para optimizar el
rendimiento del modelo sin perder información valiosa.</p>
<p>Tras este análisis hemos observado lo siguiente:</p>
<ol>
<li>Las Variables sin outliers (Outlier Count = 0): SK_ID_CURR,
REGION_POPULATION_RELATIVE, DAYS_BIRTH, HOUR_APPR_PROCESS_START,
EXT_SOURCE_1, EXT_SOURCE_2, EXT_SOURCE_3, entre otras.</li>
</ol>
<p>Estas variables parecen tener distribuciones más controladas,
probablemente con límites bien definidos o sin valores extremos
significativos. Esto podría deberse a que estas características se
mantienen dentro de un rango razonable debido a la naturaleza de los
datos (por ejemplo, escalas limitadas como porcentajes o rangos
temporales).</p>
<ol>
<li>Variables con outliers moderados (Outlier Count entre 100 y 4000):
CNT_CHILDREN, AMT_CREDIT, AMT_ANNUITY, CNT_FAM_MEMBERS, OWN_CAR_AGE,
entre otras.</li>
</ol>
<p>Estas variables muestran cierta dispersión en los datos,
probablemente reflejando casos inusuales pero plausibles.</p>
<p>Por ejemplo:En CNT_CHILDREN, los valores extremos podrían representar
familias con un número significativamente alto de hijos.</p>
<p>OWN_CAR_AGE podría tener outliers relacionados con registros de autos
muy viejos o errores en los datos</p>
<ol>
<li>Posteriormente, disponemos de las Variables con muchos outliers
(Outlier Count &gt; 10,000): DAYS_EMPLOYED, AMT_REQ_CREDIT_BUREAU_MON,
AMT_REQ_CREDIT_BUREAU_QRT, etc.</li>
</ol>
<p>Estas variables presentan una cantidad considerable de valores
extremos. Algunos posibles motivos incluyen:</p>
<p>DAYS_EMPLOYED: Puede contener registros inválidos (como valores
extremadamente altos para personas que nunca trabajaron).</p>
<p>AMT_REQ_CREDIT_BUREAU_*: Podría estar influida por errores en el
registro de consultas o casos atípicos de personas con alta actividad
crediticia.</p>
</div>
<section id="correlaciones" class="cell markdown" id="lWEPUl6oRRxF">
<h3><strong>Correlaciones</strong></h3>
</section>
<div class="cell code" data-execution_count="164"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:603}"
id="H_v0Es6bA_qY" data-outputId="6551d06e-326d-4cd4-de24-6301e6f5eac8">
<div class="sourceCode" id="cb27"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Matriz de correlación para variables numéricas</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>num_corr_matrix <span class="op">=</span> get_corr_matrix(dataset<span class="op">=</span>credit_procesado_train[list_var_continuous], metodo<span class="op">=</span><span class="st">&#39;pearson&#39;</span>, size_figure<span class="op">=</span>[<span class="dv">10</span>, <span class="dv">8</span>])</span></code></pre></div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/1fa5cb3a80d619aacdfed51ec30d97b552638bb9.png" /></p>
</div>
</div>
<section id="tratamiento-de-valores-nulos" class="cell markdown"
id="nuH30HDPRWiz">
<h3><strong>Tratamiento de valores nulos</strong></h3>
<p>¿Son todos los nulos de una clase de la variable objetivo? o tienen
el mismo porcentaje de la variable objetivo?</p>
<p>En este paso, vamos a calcular el porcentaje de valores numéricos
presentes en cada variable numérica. Además, vamos a analizar la
distribución de los valores nulos en cada uno de los valores únicos de
la variable objetivo (TARGET). Este análisis es crucial, ya que nos
permitirá identificar si existe una diferencia significativa en la
proporción de valores nulos entre las dos clases de la variable objetivo
(0 y 1).</p>
<p>Si encontramos que una columna muestra una diferencia significativa
en la proporción de nulos entre las dos clases de TARGET, esto podría
sugerir que la columna es relevante para el análisis. Es posible que los
valores nulos en esa columna estén asociados a una clase específica de
TARGET. Por ejemplo, si los nulos se concentran más en los casos donde
TARGET = 1, esto podría indicar un patrón que sea útil para la
predicción del objetivo.</p>
<p>Por otro lado, si no encontramos una diferencia significativa,
podemos concluir que los valores nulos en esa columna no tienen un
impacto considerable en la predicción de TARGET. En este caso, podríamos
decidir no darle mucha importancia a estos nulos o, si la proporción de
nulos es demasiado alta, incluso optar por eliminar la columna del
análisis.</p>
<p>Además de los valores nulos, calcularemos la relación entre las
variables numéricas y la variable TARGET. Esto nos ayudará a identificar
qué variables tienen una correlación o una relación significativa con el
objetivo, lo que es clave para decidir cómo tratarlas. Si una variable
muestra una relación fuerte con TARGET, podría ser relevante para el
modelo, y deberíamos tener precaución al manejar los valores nulos o
cualquier otro tipo de datos faltantes en ella.</p>
<p>Esta evaluación nos permitirá tomar decisiones informadas sobre cómo
manejar las columnas con valores nulos: si debemos eliminarlas,
imputarlas con valores adecuados o tratarlas de otro modo según su
impacto en el análisis.</p>
</section>
<div class="cell code" data-execution_count="165"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:1000}"
data-collapsed="true" id="E9nDrokwhXM_"
data-outputId="23a976b4-3686-48af-a260-1eed0cee4675">
<div class="sourceCode" id="cb28"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>calcular_nulos_por_objetivo(credit_procesado_train, <span class="st">&#39;target&#39;</span>, <span class="st">&#39;continuas&#39;</span>)</span></code></pre></div>
<div class="output execute_result" data-execution_count="165">

  <div id="df-ff28751f-b17f-494f-921a-e68a68fe97cc" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Target_0</th>
      <th>Target_1</th>
      <th>Total_Porcentaje (%)</th>
      <th>Diferencia_0_1 (%)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>commonarea_avg</th>
      <td>68.50</td>
      <td>70.67</td>
      <td>69.59</td>
      <td>2.17</td>
    </tr>
    <tr>
      <th>commonarea_medi</th>
      <td>68.50</td>
      <td>70.67</td>
      <td>69.59</td>
      <td>2.17</td>
    </tr>
    <tr>
      <th>commonarea_mode</th>
      <td>68.50</td>
      <td>70.67</td>
      <td>69.59</td>
      <td>2.17</td>
    </tr>
    <tr>
      <th>nonlivingapartments_mode</th>
      <td>68.29</td>
      <td>69.83</td>
      <td>69.06</td>
      <td>1.54</td>
    </tr>
    <tr>
      <th>nonlivingapartments_medi</th>
      <td>68.29</td>
      <td>69.83</td>
      <td>69.06</td>
      <td>1.54</td>
    </tr>
    <tr>
      <th>nonlivingapartments_avg</th>
      <td>68.29</td>
      <td>69.83</td>
      <td>69.06</td>
      <td>1.54</td>
    </tr>
    <tr>
      <th>livingapartments_mode</th>
      <td>67.19</td>
      <td>69.27</td>
      <td>68.23</td>
      <td>2.08</td>
    </tr>
    <tr>
      <th>livingapartments_avg</th>
      <td>67.19</td>
      <td>69.27</td>
      <td>68.23</td>
      <td>2.08</td>
    </tr>
    <tr>
      <th>livingapartments_medi</th>
      <td>67.19</td>
      <td>69.27</td>
      <td>68.23</td>
      <td>2.08</td>
    </tr>
    <tr>
      <th>floorsmin_avg</th>
      <td>66.35</td>
      <td>68.72</td>
      <td>67.54</td>
      <td>2.37</td>
    </tr>
    <tr>
      <th>floorsmin_medi</th>
      <td>66.35</td>
      <td>68.72</td>
      <td>67.54</td>
      <td>2.37</td>
    </tr>
    <tr>
      <th>floorsmin_mode</th>
      <td>66.35</td>
      <td>68.72</td>
      <td>67.54</td>
      <td>2.37</td>
    </tr>
    <tr>
      <th>years_build_mode</th>
      <td>64.80</td>
      <td>68.44</td>
      <td>66.62</td>
      <td>3.64</td>
    </tr>
    <tr>
      <th>years_build_avg</th>
      <td>64.80</td>
      <td>68.44</td>
      <td>66.62</td>
      <td>3.64</td>
    </tr>
    <tr>
      <th>years_build_medi</th>
      <td>64.80</td>
      <td>68.44</td>
      <td>66.62</td>
      <td>3.64</td>
    </tr>
    <tr>
      <th>own_car_age</th>
      <td>65.62</td>
      <td>67.04</td>
      <td>66.33</td>
      <td>1.42</td>
    </tr>
    <tr>
      <th>basementarea_mode</th>
      <td>57.06</td>
      <td>61.45</td>
      <td>59.26</td>
      <td>4.39</td>
    </tr>
    <tr>
      <th>basementarea_medi</th>
      <td>57.06</td>
      <td>61.45</td>
      <td>59.26</td>
      <td>4.39</td>
    </tr>
    <tr>
      <th>basementarea_avg</th>
      <td>57.06</td>
      <td>61.45</td>
      <td>59.26</td>
      <td>4.39</td>
    </tr>
    <tr>
      <th>landarea_mode</th>
      <td>57.99</td>
      <td>60.34</td>
      <td>59.17</td>
      <td>2.35</td>
    </tr>
    <tr>
      <th>landarea_medi</th>
      <td>57.99</td>
      <td>60.34</td>
      <td>59.17</td>
      <td>2.35</td>
    </tr>
    <tr>
      <th>landarea_avg</th>
      <td>57.99</td>
      <td>60.34</td>
      <td>59.17</td>
      <td>2.35</td>
    </tr>
    <tr>
      <th>ext_source_1</th>
      <td>55.84</td>
      <td>61.45</td>
      <td>58.64</td>
      <td>5.61</td>
    </tr>
    <tr>
      <th>nonlivingarea_medi</th>
      <td>53.26</td>
      <td>57.26</td>
      <td>55.26</td>
      <td>4.00</td>
    </tr>
    <tr>
      <th>nonlivingarea_avg</th>
      <td>53.24</td>
      <td>57.26</td>
      <td>55.25</td>
      <td>4.02</td>
    </tr>
    <tr>
      <th>nonlivingarea_mode</th>
      <td>53.24</td>
      <td>57.26</td>
      <td>55.25</td>
      <td>4.02</td>
    </tr>
    <tr>
      <th>elevators_avg</th>
      <td>51.58</td>
      <td>56.70</td>
      <td>54.14</td>
      <td>5.12</td>
    </tr>
    <tr>
      <th>elevators_mode</th>
      <td>51.58</td>
      <td>56.70</td>
      <td>54.14</td>
      <td>5.12</td>
    </tr>
    <tr>
      <th>elevators_medi</th>
      <td>51.58</td>
      <td>56.70</td>
      <td>54.14</td>
      <td>5.12</td>
    </tr>
    <tr>
      <th>apartments_mode</th>
      <td>49.38</td>
      <td>53.91</td>
      <td>51.64</td>
      <td>4.53</td>
    </tr>
    <tr>
      <th>apartments_avg</th>
      <td>49.38</td>
      <td>53.91</td>
      <td>51.64</td>
      <td>4.53</td>
    </tr>
    <tr>
      <th>apartments_medi</th>
      <td>49.38</td>
      <td>53.91</td>
      <td>51.64</td>
      <td>4.53</td>
    </tr>
    <tr>
      <th>entrances_avg</th>
      <td>48.35</td>
      <td>53.91</td>
      <td>51.13</td>
      <td>5.56</td>
    </tr>
    <tr>
      <th>entrances_mode</th>
      <td>48.35</td>
      <td>53.91</td>
      <td>51.13</td>
      <td>5.56</td>
    </tr>
    <tr>
      <th>entrances_medi</th>
      <td>48.35</td>
      <td>53.91</td>
      <td>51.13</td>
      <td>5.56</td>
    </tr>
    <tr>
      <th>livingarea_medi</th>
      <td>48.63</td>
      <td>53.07</td>
      <td>50.85</td>
      <td>4.44</td>
    </tr>
    <tr>
      <th>livingarea_avg</th>
      <td>48.61</td>
      <td>53.07</td>
      <td>50.84</td>
      <td>4.46</td>
    </tr>
    <tr>
      <th>livingarea_mode</th>
      <td>48.61</td>
      <td>53.07</td>
      <td>50.84</td>
      <td>4.46</td>
    </tr>
    <tr>
      <th>floorsmax_mode</th>
      <td>47.84</td>
      <td>53.07</td>
      <td>50.46</td>
      <td>5.23</td>
    </tr>
    <tr>
      <th>floorsmax_avg</th>
      <td>47.84</td>
      <td>53.07</td>
      <td>50.46</td>
      <td>5.23</td>
    </tr>
    <tr>
      <th>floorsmax_medi</th>
      <td>47.84</td>
      <td>53.07</td>
      <td>50.46</td>
      <td>5.23</td>
    </tr>
    <tr>
      <th>years_beginexpluatation_medi</th>
      <td>47.32</td>
      <td>51.96</td>
      <td>49.64</td>
      <td>4.64</td>
    </tr>
    <tr>
      <th>years_beginexpluatation_avg</th>
      <td>47.32</td>
      <td>51.96</td>
      <td>49.64</td>
      <td>4.64</td>
    </tr>
    <tr>
      <th>years_beginexpluatation_mode</th>
      <td>47.32</td>
      <td>51.96</td>
      <td>49.64</td>
      <td>4.64</td>
    </tr>
    <tr>
      <th>totalarea_mode</th>
      <td>46.59</td>
      <td>51.96</td>
      <td>49.28</td>
      <td>5.37</td>
    </tr>
    <tr>
      <th>ext_source_3</th>
      <td>18.96</td>
      <td>23.74</td>
      <td>21.35</td>
      <td>4.78</td>
    </tr>
    <tr>
      <th>amt_req_credit_bureau_week</th>
      <td>12.89</td>
      <td>18.16</td>
      <td>15.52</td>
      <td>5.27</td>
    </tr>
    <tr>
      <th>amt_req_credit_bureau_year</th>
      <td>12.89</td>
      <td>18.16</td>
      <td>15.52</td>
      <td>5.27</td>
    </tr>
    <tr>
      <th>amt_req_credit_bureau_qrt</th>
      <td>12.89</td>
      <td>18.16</td>
      <td>15.52</td>
      <td>5.27</td>
    </tr>
    <tr>
      <th>amt_req_credit_bureau_mon</th>
      <td>12.89</td>
      <td>18.16</td>
      <td>15.52</td>
      <td>5.27</td>
    </tr>
    <tr>
      <th>amt_req_credit_bureau_hour</th>
      <td>12.89</td>
      <td>18.16</td>
      <td>15.52</td>
      <td>5.27</td>
    </tr>
    <tr>
      <th>amt_req_credit_bureau_day</th>
      <td>12.89</td>
      <td>18.16</td>
      <td>15.52</td>
      <td>5.27</td>
    </tr>
    <tr>
      <th>ext_source_2</th>
      <td>0.30</td>
      <td>0.28</td>
      <td>0.29</td>
      <td>-0.02</td>
    </tr>
    <tr>
      <th>obs_30_cnt_social_circle</th>
      <td>0.49</td>
      <td>0.00</td>
      <td>0.24</td>
      <td>-0.49</td>
    </tr>
    <tr>
      <th>def_30_cnt_social_circle</th>
      <td>0.49</td>
      <td>0.00</td>
      <td>0.24</td>
      <td>-0.49</td>
    </tr>
    <tr>
      <th>obs_60_cnt_social_circle</th>
      <td>0.49</td>
      <td>0.00</td>
      <td>0.24</td>
      <td>-0.49</td>
    </tr>
    <tr>
      <th>def_60_cnt_social_circle</th>
      <td>0.49</td>
      <td>0.00</td>
      <td>0.24</td>
      <td>-0.49</td>
    </tr>
    <tr>
      <th>days_last_phone_change</th>
      <td>0.02</td>
      <td>0.00</td>
      <td>0.01</td>
      <td>-0.02</td>
    </tr>
    <tr>
      <th>amt_income_total</th>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>amt_credit</th>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>cnt_children</th>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>cnt_fam_members</th>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>hour_appr_process_start</th>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>amt_annuity</th>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>amt_goods_price</th>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>days_id_publish</th>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>days_registration</th>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>days_employed</th>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>days_birth</th>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>region_population_relative</th>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>sk_id_curr</th>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-ff28751f-b17f-494f-921a-e68a68fe97cc')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-ff28751f-b17f-494f-921a-e68a68fe97cc button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-ff28751f-b17f-494f-921a-e68a68fe97cc');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-e848ccda-7224-4557-a840-a8ba7d5e412a">
  <button class="colab-df-quickchart" onclick="quickchart('df-e848ccda-7224-4557-a840-a8ba7d5e412a')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-e848ccda-7224-4557-a840-a8ba7d5e412a button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div>

</div>
</div>
<div class="cell code" data-execution_count="166"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}"
id="ryZdYsimniOJ" data-outputId="b8a9c15f-d63c-45dc-8423-edfb476e6be7">
<div class="sourceCode" id="cb29"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>corr_with_target <span class="op">=</span> credit_procesado_train[list_var_continuous].corrwith(credit_procesado_train[<span class="st">&#39;target&#39;</span>], method<span class="op">=</span><span class="st">&#39;pearson&#39;</span>)</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(corr_with_target)</span></code></pre></div>
<div class="output stream stdout">
<pre><code>sk_id_curr                      0.006920
amt_income_total               -0.017299
amt_credit                     -0.055169
amt_annuity                    -0.024734
amt_goods_price                -0.061726
region_population_relative     -0.034858
days_birth                      0.078382
days_employed                  -0.036521
days_registration               0.056961
days_id_publish                 0.063900
ext_source_1                   -0.143520
ext_source_2                   -0.170827
ext_source_3                   -0.209723
apartments_avg                  0.004942
basementarea_avg                0.030366
years_beginexpluatation_avg    -0.007400
years_build_avg                -0.018988
commonarea_avg                  0.018901
elevators_avg                  -0.013990
entrances_avg                   0.011314
floorsmax_avg                  -0.034543
floorsmin_avg                  -0.024244
landarea_avg                    0.022642
livingapartments_avg            0.022826
livingarea_avg                  0.003282
nonlivingapartments_avg         0.053078
nonlivingarea_avg               0.022691
apartments_mode                 0.012378
basementarea_mode               0.030954
years_beginexpluatation_mode   -0.013621
years_build_mode               -0.018739
commonarea_mode                 0.027460
landarea_mode                   0.019796
livingapartments_mode           0.034824
livingarea_mode                 0.006446
nonlivingarea_mode              0.022312
apartments_medi                 0.003271
basementarea_medi               0.031396
years_beginexpluatation_medi   -0.008741
years_build_medi               -0.017812
commonarea_medi                 0.019254
landarea_medi                   0.022975
livingapartments_medi           0.022136
livingarea_medi                 0.001838
nonlivingapartments_medi        0.052952
nonlivingarea_medi              0.020477
totalarea_mode                 -0.004329
days_last_phone_change          0.062647
amt_req_credit_bureau_hour      0.014482
amt_req_credit_bureau_day       0.005623
amt_req_credit_bureau_week      0.005793
amt_req_credit_bureau_mon      -0.011524
amt_req_credit_bureau_qrt       0.018571
amt_req_credit_bureau_year      0.009885
obs_30_cnt_social_circle        0.007255
def_30_cnt_social_circle        0.061832
obs_60_cnt_social_circle        0.006608
def_60_cnt_social_circle        0.047852
elevators_mode                 -0.013332
entrances_mode                  0.015453
floorsmax_mode                 -0.032489
floorsmin_mode                 -0.020774
elevators_medi                 -0.015851
entrances_medi                  0.010043
floorsmax_medi                 -0.033556
floorsmin_medi                 -0.025771
hour_appr_process_start        -0.031060
cnt_fam_members                 0.020454
cnt_children                    0.030487
nonlivingapartments_mode        0.055261
own_car_age                     0.034253
dtype: float64
</code></pre>
</div>
</div>
<div class="cell code" data-execution_count="167" id="8e3uowtRn6In">
<div class="sourceCode" id="cb31"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Metrica para tratar los nulos</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>umbral_baja_correlacion <span class="op">=</span> <span class="fl">0.1</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>umbral_alta_correlacion <span class="op">=</span> <span class="fl">0.5</span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>umbral_nulos <span class="op">=</span> <span class="fl">0.7</span></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a>porcentaje_nulos <span class="op">=</span> credit_procesado_train.isnull().mean()</span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> col <span class="kw">in</span> list_var_continuous:</span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Condición 1: Si la columna tiene una baja correlación y muchos nulos</span></span>
<span id="cb31-13"><a href="#cb31-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (corr_with_target[col] <span class="op">&lt;</span> umbral_baja_correlacion <span class="kw">and</span> porcentaje_nulos[col] <span class="op">&gt;</span> umbral_nulos):</span>
<span id="cb31-14"><a href="#cb31-14" aria-hidden="true" tabindex="-1"></a>        credit_procesado_train[col] <span class="op">=</span> credit_procesado_train[col].fillna(credit_procesado_train[col].median())</span>
<span id="cb31-15"><a href="#cb31-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-16"><a href="#cb31-16" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Condición 2: Si la columna tiene una alta correlación con el objetivo</span></span>
<span id="cb31-17"><a href="#cb31-17" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> (corr_with_target[col] <span class="op">&gt;</span> umbral_alta_correlacion):</span>
<span id="cb31-18"><a href="#cb31-18" aria-hidden="true" tabindex="-1"></a>        credit_procesado_train[col] <span class="op">=</span> credit_procesado_train[col].fillna(credit_procesado_train[col].median())</span>
<span id="cb31-19"><a href="#cb31-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-20"><a href="#cb31-20" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Condición 3: Si la columna tiene nulos distribuidos de manera desigual entre las clases del objetivo</span></span>
<span id="cb31-21"><a href="#cb31-21" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> porcentaje_nulos[col] <span class="op">&gt;</span> <span class="dv">0</span>:</span>
<span id="cb31-22"><a href="#cb31-22" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> target_class <span class="kw">in</span> credit_procesado_train[<span class="st">&#39;target&#39;</span>].unique():</span>
<span id="cb31-23"><a href="#cb31-23" aria-hidden="true" tabindex="-1"></a>            mediana_clase <span class="op">=</span> credit_procesado_train[credit_procesado_train[<span class="st">&#39;target&#39;</span>] <span class="op">==</span> target_class][col].median()</span>
<span id="cb31-24"><a href="#cb31-24" aria-hidden="true" tabindex="-1"></a>            credit_procesado_train.loc[(credit_procesado_train[<span class="st">&#39;target&#39;</span>] <span class="op">==</span> target_class) <span class="op">&amp;</span> (credit_procesado_train[col].isnull()), col] <span class="op">=</span> mediana_clase</span>
<span id="cb31-25"><a href="#cb31-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-26"><a href="#cb31-26" aria-hidden="true" tabindex="-1"></a><span class="co"># Eliminar columnas con más del 70% de nulos y baja correlación</span></span>
<span id="cb31-27"><a href="#cb31-27" aria-hidden="true" tabindex="-1"></a>columnas_a_eliminar <span class="op">=</span> [col <span class="cf">for</span> col <span class="kw">in</span> list_var_continuous <span class="cf">if</span> porcentaje_nulos[col] <span class="op">&gt;</span> umbral_nulos <span class="kw">and</span> corr_with_target[col] <span class="op">&lt;</span> umbral_baja_correlacion]</span>
<span id="cb31-28"><a href="#cb31-28" aria-hidden="true" tabindex="-1"></a>credit_procesado_train <span class="op">=</span> credit_procesado_train.drop(columns<span class="op">=</span>columnas_a_eliminar)</span></code></pre></div>
</div>
<div class="cell markdown" id="F3HvtuuJoIQI">
<p>Las métricas que hemos utilizado para tratar estos nulos:</p>
<ol>
<li>Manejo de nulos con la mediana</li>
</ol>
<ul>
<li><p>Baja correlación y altos nulos: Imputamos la mediana solo a las
columnas con baja correlación con la variable objetivo y un alto
porcentaje de nulos.</p></li>
<li><p>Alta correlación: Si la correlación con la variable objetivo es
alta, también imputamos la mediana.</p></li>
<li><p>Distribución desigual de nulos: Si los nulos están distribuidos
de manera desigual según las clases de la variable objetivo
<code>target</code>, imputamos la mediana por clase.</p></li>
</ul>
<ol>
<li>Eliminación de columnas:</li>
</ol>
<ul>
<li>Si una columna tiene más del 70% de nulos y baja correlación con la
variable objetivo, se elimina del DataFrame.</li>
</ul>
</div>
<div class="cell code" data-execution_count="168" id="rPDONMc4oJpo">
<div class="sourceCode" id="cb32"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Imputación de nulos por la mediana de las columnas del conjunto de entrenamiento</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>medianas_train <span class="op">=</span> credit_procesado_train[list_var_continuous].median()</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>credit_procesado_test[list_var_continuous] <span class="op">=</span> credit_procesado_test[list_var_continuous].fillna(medianas_train)</span></code></pre></div>
</div>
<div class="cell code" data-execution_count="169"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:603}"
id="M6iwVvOvogH9" data-outputId="7b2ba733-85db-45c2-8d13-638a71149aad">
<div class="sourceCode" id="cb33"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>num_corr_matrix_sin_nulos <span class="op">=</span> get_corr_matrix(dataset<span class="op">=</span>credit_procesado_train[list_var_continuous], metodo<span class="op">=</span><span class="st">&#39;pearson&#39;</span>, size_figure<span class="op">=</span>[<span class="dv">10</span>, <span class="dv">8</span>])</span></code></pre></div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/78d9c12b7d6f80a95e041af6a8d59c1904665f0f.png" /></p>
</div>
</div>
<section id="tratamiento-de-las-variables-categoricas"
class="cell markdown" id="C4YoeIuqi15O">
<h2><strong>Tratamiento de las variables categoricas</strong></h2>
</section>
<section id="correlaciones" class="cell markdown" id="fRFooilAjPYW">
<h3><strong>Correlaciones</strong></h3>
</section>
<div class="cell code" data-execution_count="170" id="nSvvoAifnQkN">
<div class="sourceCode" id="cb34"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>warnings.filterwarnings(<span class="st">&#39;ignore&#39;</span>)</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>correlation_matrix <span class="op">=</span> pd.DataFrame(index<span class="op">=</span>list_var_cat, columns<span class="op">=</span>list_var_cat)</span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> var1 <span class="kw">in</span> list_var_cat:</span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> var2 <span class="kw">in</span> list_var_cat:</span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> var1 <span class="op">!=</span> var2:</span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>            confusion_matrix <span class="op">=</span> pd.crosstab(credit_procesado_train[var1], credit_procesado_train[var2])</span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> confusion_matrix.shape[<span class="dv">0</span>] <span class="op">&gt;</span> <span class="dv">1</span> <span class="kw">and</span> confusion_matrix.shape[<span class="dv">1</span>] <span class="op">&gt;</span> <span class="dv">1</span>:</span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a>                cramers_v_value <span class="op">=</span> cramers_v(confusion_matrix.values)</span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a>                correlation_matrix.loc[var1, var2] <span class="op">=</span> cramers_v_value</span>
<span id="cb34-12"><a href="#cb34-12" aria-hidden="true" tabindex="-1"></a>            <span class="cf">else</span>:</span>
<span id="cb34-13"><a href="#cb34-13" aria-hidden="true" tabindex="-1"></a>                correlation_matrix.loc[var1, var2] <span class="op">=</span> np.nan</span>
<span id="cb34-14"><a href="#cb34-14" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span>:</span>
<span id="cb34-15"><a href="#cb34-15" aria-hidden="true" tabindex="-1"></a>            correlation_matrix.loc[var1, var2] <span class="op">=</span> <span class="fl">1.0</span></span></code></pre></div>
</div>
<div class="cell code" data-execution_count="171"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:490}"
id="Stns_hjWqXtC" data-outputId="1916cf0f-93c5-4897-db92-dee278c990bc">
<div class="sourceCode" id="cb35"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>correlation_matrix <span class="op">=</span> correlation_matrix.<span class="bu">apply</span>(pd.to_numeric, errors<span class="op">=</span><span class="st">&#39;coerce&#39;</span>)</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">12</span>, <span class="dv">8</span>))</span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>sns.heatmap(correlation_matrix, annot<span class="op">=</span><span class="va">False</span>, cmap<span class="op">=</span><span class="st">&quot;viridis&quot;</span>, vmin<span class="op">=</span><span class="dv">0</span>, vmax<span class="op">=</span><span class="dv">1</span>, cbar<span class="op">=</span><span class="va">True</span>, linewidths<span class="op">=</span><span class="fl">0.5</span>, linecolor<span class="op">=</span><span class="st">&#39;gray&#39;</span>)</span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Matriz de Correlación de Cramér</span><span class="ch">\&#39;</span><span class="st">s V&#39;</span>, fontsize<span class="op">=</span><span class="dv">16</span>)</span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=</span><span class="dv">90</span>, ha<span class="op">=</span><span class="st">&#39;right&#39;</span>, fontsize<span class="op">=</span><span class="dv">10</span>)</span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a>plt.yticks(rotation<span class="op">=</span><span class="dv">0</span>, fontsize<span class="op">=</span><span class="dv">10</span>)</span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb35-12"><a href="#cb35-12" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output display_data">
<p><img
src="vertopal_786542af6e4b4a6695903ec7bf8be535/ef80ce54630e73ba406308def23206f96d87b3f1.png" /></p>
</div>
</div>
<section id="tratamiento-de-valores-nulos" class="cell markdown"
id="2qVJef3-jT7T">
<h3><strong>Tratamiento de valores nulos</strong></h3>
</section>
<div class="cell code" data-execution_count="172"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:1000}"
data-collapsed="true" id="oUFj22a7jcnq"
data-outputId="bd52670d-8fe2-4597-c3e3-a25b9be473fc">
<div class="sourceCode" id="cb36"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>calcular_nulos_por_objetivo(credit_procesado_train, <span class="st">&#39;target&#39;</span>, <span class="st">&#39;categoricas&#39;</span>)</span></code></pre></div>
<div class="output execute_result" data-execution_count="172">

  <div id="df-d8a2d6e1-88a9-4eab-a6ec-d78c3b41d5cf" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Target_0</th>
      <th>Target_1</th>
      <th>Total_Porcentaje (%)</th>
      <th>Diferencia_0_1 (%)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>fondkapremont_mode</th>
      <td>66.77</td>
      <td>68.99</td>
      <td>67.88</td>
      <td>2.22</td>
    </tr>
    <tr>
      <th>wallsmaterial_mode</th>
      <td>49.31</td>
      <td>53.63</td>
      <td>51.47</td>
      <td>4.32</td>
    </tr>
    <tr>
      <th>housetype_mode</th>
      <td>48.35</td>
      <td>53.35</td>
      <td>50.85</td>
      <td>5.00</td>
    </tr>
    <tr>
      <th>emergencystate_mode</th>
      <td>45.68</td>
      <td>50.56</td>
      <td>48.12</td>
      <td>4.88</td>
    </tr>
    <tr>
      <th>occupation_type</th>
      <td>31.59</td>
      <td>24.02</td>
      <td>27.80</td>
      <td>-7.57</td>
    </tr>
    <tr>
      <th>name_type_suite</th>
      <td>0.47</td>
      <td>0.00</td>
      <td>0.24</td>
      <td>-0.47</td>
    </tr>
    <tr>
      <th>flag_document_9</th>
      <td>0.02</td>
      <td>0.00</td>
      <td>0.01</td>
      <td>-0.02</td>
    </tr>
    <tr>
      <th>flag_document_2</th>
      <td>0.02</td>
      <td>0.00</td>
      <td>0.01</td>
      <td>-0.02</td>
    </tr>
    <tr>
      <th>flag_document_3</th>
      <td>0.02</td>
      <td>0.00</td>
      <td>0.01</td>
      <td>-0.02</td>
    </tr>
    <tr>
      <th>flag_document_4</th>
      <td>0.02</td>
      <td>0.00</td>
      <td>0.01</td>
      <td>-0.02</td>
    </tr>
    <tr>
      <th>flag_document_5</th>
      <td>0.02</td>
      <td>0.00</td>
      <td>0.01</td>
      <td>-0.02</td>
    </tr>
    <tr>
      <th>flag_document_6</th>
      <td>0.02</td>
      <td>0.00</td>
      <td>0.01</td>
      <td>-0.02</td>
    </tr>
    <tr>
      <th>flag_document_7</th>
      <td>0.02</td>
      <td>0.00</td>
      <td>0.01</td>
      <td>-0.02</td>
    </tr>
    <tr>
      <th>flag_document_8</th>
      <td>0.02</td>
      <td>0.00</td>
      <td>0.01</td>
      <td>-0.02</td>
    </tr>
    <tr>
      <th>flag_document_21</th>
      <td>0.02</td>
      <td>0.00</td>
      <td>0.01</td>
      <td>-0.02</td>
    </tr>
    <tr>
      <th>flag_document_11</th>
      <td>0.02</td>
      <td>0.00</td>
      <td>0.01</td>
      <td>-0.02</td>
    </tr>
    <tr>
      <th>flag_document_12</th>
      <td>0.02</td>
      <td>0.00</td>
      <td>0.01</td>
      <td>-0.02</td>
    </tr>
    <tr>
      <th>flag_document_13</th>
      <td>0.02</td>
      <td>0.00</td>
      <td>0.01</td>
      <td>-0.02</td>
    </tr>
    <tr>
      <th>flag_document_14</th>
      <td>0.02</td>
      <td>0.00</td>
      <td>0.01</td>
      <td>-0.02</td>
    </tr>
    <tr>
      <th>flag_document_15</th>
      <td>0.02</td>
      <td>0.00</td>
      <td>0.01</td>
      <td>-0.02</td>
    </tr>
    <tr>
      <th>flag_document_16</th>
      <td>0.02</td>
      <td>0.00</td>
      <td>0.01</td>
      <td>-0.02</td>
    </tr>
    <tr>
      <th>flag_document_17</th>
      <td>0.02</td>
      <td>0.00</td>
      <td>0.01</td>
      <td>-0.02</td>
    </tr>
    <tr>
      <th>flag_document_18</th>
      <td>0.02</td>
      <td>0.00</td>
      <td>0.01</td>
      <td>-0.02</td>
    </tr>
    <tr>
      <th>flag_document_19</th>
      <td>0.02</td>
      <td>0.00</td>
      <td>0.01</td>
      <td>-0.02</td>
    </tr>
    <tr>
      <th>flag_document_20</th>
      <td>0.02</td>
      <td>0.00</td>
      <td>0.01</td>
      <td>-0.02</td>
    </tr>
    <tr>
      <th>flag_document_10</th>
      <td>0.02</td>
      <td>0.00</td>
      <td>0.01</td>
      <td>-0.02</td>
    </tr>
    <tr>
      <th>target</th>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>name_contract_type</th>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>flag_work_phone</th>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>code_gender</th>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>flag_own_car</th>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>flag_own_realty</th>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>name_income_type</th>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>name_education_type</th>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>name_family_status</th>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>name_housing_type</th>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>flag_mobil</th>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>flag_emp_phone</th>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>flag_cont_mobile</th>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>reg_city_not_work_city</th>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>flag_phone</th>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>flag_email</th>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>region_rating_client</th>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>region_rating_client_w_city</th>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>weekday_appr_process_start</th>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>reg_region_not_live_region</th>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>reg_region_not_work_region</th>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>live_region_not_work_region</th>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>reg_city_not_live_city</th>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>live_city_not_work_city</th>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-d8a2d6e1-88a9-4eab-a6ec-d78c3b41d5cf')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-d8a2d6e1-88a9-4eab-a6ec-d78c3b41d5cf button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-d8a2d6e1-88a9-4eab-a6ec-d78c3b41d5cf');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-1b5ea8e4-c4d9-4554-8f82-8df96c2423a0">
  <button class="colab-df-quickchart" onclick="quickchart('df-1b5ea8e4-c4d9-4554-8f82-8df96c2423a0')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-1b5ea8e4-c4d9-4554-8f82-8df96c2423a0 button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div>

</div>
</div>
<div class="cell code" data-execution_count="173"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:1000}"
id="r3OlgJ-2qfIs" data-outputId="be1c496d-98a0-40d4-d676-24419d90e478">
<div class="sourceCode" id="cb37"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>correlation_with_target <span class="op">=</span> correlation_matrix[<span class="st">&#39;target&#39;</span>].sort_values(ascending<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>correlation_with_target</span></code></pre></div>
<div class="output execute_result" data-execution_count="173">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>target</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>target</th>
      <td>1.000000</td>
    </tr>
    <tr>
      <th>name_education_type</th>
      <td>0.077673</td>
    </tr>
    <tr>
      <th>name_income_type</th>
      <td>0.073049</td>
    </tr>
    <tr>
      <th>region_rating_client_w_city</th>
      <td>0.070347</td>
    </tr>
    <tr>
      <th>region_rating_client</th>
      <td>0.064282</td>
    </tr>
    <tr>
      <th>code_gender</th>
      <td>0.047038</td>
    </tr>
    <tr>
      <th>reg_city_not_work_city</th>
      <td>0.046145</td>
    </tr>
    <tr>
      <th>occupation_type</th>
      <td>0.038331</td>
    </tr>
    <tr>
      <th>live_city_not_work_city</th>
      <td>0.037128</td>
    </tr>
    <tr>
      <th>flag_emp_phone</th>
      <td>0.033824</td>
    </tr>
    <tr>
      <th>flag_document_3</th>
      <td>0.031799</td>
    </tr>
    <tr>
      <th>housetype_mode</th>
      <td>0.031205</td>
    </tr>
    <tr>
      <th>name_contract_type</th>
      <td>0.028705</td>
    </tr>
    <tr>
      <th>name_family_status</th>
      <td>0.021399</td>
    </tr>
    <tr>
      <th>flag_own_realty</th>
      <td>0.016211</td>
    </tr>
    <tr>
      <th>flag_document_6</th>
      <td>0.013835</td>
    </tr>
    <tr>
      <th>reg_city_not_live_city</th>
      <td>0.011624</td>
    </tr>
    <tr>
      <th>name_housing_type</th>
      <td>0.010446</td>
    </tr>
    <tr>
      <th>flag_document_16</th>
      <td>0.007831</td>
    </tr>
    <tr>
      <th>flag_phone</th>
      <td>0.007011</td>
    </tr>
    <tr>
      <th>flag_email</th>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>flag_document_8</th>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>flag_document_20</th>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>flag_document_19</th>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>flag_document_18</th>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>flag_document_17</th>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>flag_document_15</th>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>flag_document_14</th>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>flag_document_13</th>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>flag_document_11</th>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>flag_document_9</th>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>flag_document_5</th>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>flag_own_car</th>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>weekday_appr_process_start</th>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>name_type_suite</th>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>emergencystate_mode</th>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>wallsmaterial_mode</th>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>fondkapremont_mode</th>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>flag_work_phone</th>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>flag_cont_mobile</th>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>live_region_not_work_region</th>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>reg_region_not_work_region</th>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>reg_region_not_live_region</th>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>flag_document_21</th>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>flag_mobil</th>
      <td>NaN</td>
    </tr>
    <tr>
      <th>flag_document_2</th>
      <td>NaN</td>
    </tr>
    <tr>
      <th>flag_document_4</th>
      <td>NaN</td>
    </tr>
    <tr>
      <th>flag_document_7</th>
      <td>NaN</td>
    </tr>
    <tr>
      <th>flag_document_10</th>
      <td>NaN</td>
    </tr>
    <tr>
      <th>flag_document_12</th>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div><br><label><b>dtype:</b> float64</label>
</div>
</div>
<div class="cell code" data-execution_count="174" id="USAjbMwfqqdT">
<div class="sourceCode" id="cb38"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>boolean_columns <span class="op">=</span> [</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>    col <span class="cf">for</span> col <span class="kw">in</span> list_var_cat</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="bu">set</span>(credit_procesado_train[col].dropna().unique()).issubset({<span class="dv">0</span>, <span class="dv">1</span>})</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>non_boolean_columns <span class="op">=</span> [col <span class="cf">for</span> col <span class="kw">in</span> list_var_cat <span class="cf">if</span> col <span class="kw">not</span> <span class="kw">in</span> boolean_columns]</span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> col <span class="kw">in</span> non_boolean_columns:</span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> credit_procesado_train[col].dtype.name <span class="op">==</span> <span class="st">&#39;category&#39;</span>:</span>
<span id="cb38-10"><a href="#cb38-10" aria-hidden="true" tabindex="-1"></a>        credit_procesado_train[col] <span class="op">=</span> credit_procesado_train[col].cat.add_categories(<span class="st">&#39;No especificado&#39;</span>)</span>
<span id="cb38-11"><a href="#cb38-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-12"><a href="#cb38-12" aria-hidden="true" tabindex="-1"></a>credit_procesado_train[non_boolean_columns] <span class="op">=</span> credit_procesado_train[non_boolean_columns].fillna(<span class="st">&quot;No especificado&quot;</span>)</span>
<span id="cb38-13"><a href="#cb38-13" aria-hidden="true" tabindex="-1"></a></span></code></pre></div>
</div>
<div class="cell markdown" id="imiNoU7orGEb">
<p>En este caso, hemos decidido sustituir todos los valores nulos por
"No Especificado" debido a que la proporción de nulos en las variables
es baja y no afectará significativamente la distribución general de los
datos. Además, muchas de estas variables son relevantes para la
predicción del objetivo <code>target</code>, por lo que mantener los
registros con esta categoría garantiza que no se pierda información
valiosa.</p>
</div>
<div class="cell code" data-execution_count="175" id="r65709BqrHF8">
<div class="sourceCode" id="cb39"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Imputación de valores nulos (NaN) en las columnas categóricas del conjunto de datos de prueba (data_test).</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>boolean_columns <span class="op">=</span> [</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>    col <span class="cf">for</span> col <span class="kw">in</span> list_var_cat</span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="bu">set</span>(credit_procesado_test[col].dropna().unique()).issubset({<span class="dv">0</span>, <span class="dv">1</span>})</span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a>non_boolean_columns <span class="op">=</span> [col <span class="cf">for</span> col <span class="kw">in</span> list_var_cat <span class="cf">if</span> col <span class="kw">not</span> <span class="kw">in</span> boolean_columns]</span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> col <span class="kw">in</span> non_boolean_columns:</span>
<span id="cb39-11"><a href="#cb39-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> credit_procesado_test[col].dtype.name <span class="op">==</span> <span class="st">&#39;category&#39;</span>:</span>
<span id="cb39-12"><a href="#cb39-12" aria-hidden="true" tabindex="-1"></a>        credit_procesado_test[col] <span class="op">=</span> credit_procesado_test[col].cat.add_categories(<span class="st">&#39;No especificado&#39;</span>)</span>
<span id="cb39-13"><a href="#cb39-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-14"><a href="#cb39-14" aria-hidden="true" tabindex="-1"></a>credit_procesado_test[non_boolean_columns] <span class="op">=</span> credit_procesado_test[non_boolean_columns].fillna(<span class="st">&quot;No especificado&quot;</span>)</span></code></pre></div>
</div>
<div class="cell code" data-execution_count="176" id="1uLlYMM77u2h">
<div class="sourceCode" id="cb40"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>credit_procesado_train.to_csv(<span class="st">&#39;credit_tratado_train.csv&#39;</span>, index<span class="op">=</span><span class="va">False</span>)</span></code></pre></div>
</div>
<div class="cell code" data-execution_count="177" id="XdnJszxV8a4m">
<div class="sourceCode" id="cb41"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>credit_procesado_test.to_csv(<span class="st">&#39;credit_tratado_test.csv&#39;</span>, index<span class="op">=</span><span class="va">False</span>)</span></code></pre></div>
</div>
</body>
</html>
